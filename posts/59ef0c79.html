<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><div id="myscoll"></div><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>GOè¯­è¨€åŸºç¡€æ¡ˆä¾‹è®²è§£ | CoderyeahğŸ‰</title><meta name="keywords" content="Java,MySQL,ç®—æ³•,ä»£ç ,åšå®¢,Butterfly,Hexo,CoderyeahğŸ‰,Golang,Python"><meta name="author" content="CoderyeahğŸ‰"><meta name="copyright" content="CoderyeahğŸ‰"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="ffffff"><meta name="description" content="ä¸€. å­—ç¬¦æ‰“å° 123456789101112131415161718192021222324package main &#x2F;&#x2F; æ‰€å±åŒ…import &quot;fmt&quot; &#x2F;&#x2F; å¯¼å…¥fmtåŒ…ç”¨äºæ‰“å°func main() &amp;#123; &#x2F;&#x2F; ä¸»å‡½æ•°ç¨‹åºè¿è¡Œå…¥å£    c1 :&#x3D; &amp;#x27;0&amp;#x27; &#x2F;&#x2F; å®šä¹‰å­—ç¬¦    fmt.Println(c1)    fmt.Printf(&amp;q">
<meta property="og:type" content="article">
<meta property="og:title" content="GOè¯­è¨€åŸºç¡€æ¡ˆä¾‹è®²è§£">
<meta property="og:url" content="https://www.fomal.cc/posts/59ef0c79.html">
<meta property="og:site_name" content="CoderyeahğŸ‰">
<meta property="og:description" content="ä¸€. å­—ç¬¦æ‰“å° 123456789101112131415161718192021222324package main &#x2F;&#x2F; æ‰€å±åŒ…import &quot;fmt&quot; &#x2F;&#x2F; å¯¼å…¥fmtåŒ…ç”¨äºæ‰“å°func main() &amp;#123; &#x2F;&#x2F; ä¸»å‡½æ•°ç¨‹åºè¿è¡Œå…¥å£    c1 :&#x3D; &amp;#x27;0&amp;#x27; &#x2F;&#x2F; å®šä¹‰å­—ç¬¦    fmt.Println(c1)    fmt.Printf(&amp;q">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://source.fomal.cc/img/default_cover_14.webp">
<meta property="article:published_time" content="2025-05-20T08:38:30.372Z">
<meta property="article:modified_time" content="2025-05-20T08:50:31.219Z">
<meta property="article:author" content="CoderyeahğŸ‰">
<meta property="article:tag" content="Java,MySQL,ç®—æ³•,ä»£ç ,åšå®¢,Butterfly,Hexo,CoderyeahğŸ‰,Golang,Python">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://source.fomal.cc/img/default_cover_14.webp"><link rel="shortcut icon" href="/"><link rel="canonical" href="https://www.fomal.cc/posts/59ef0c79"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/font-awesome/6.0.0/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.staticfile.org/fancyapps-ui/4.0.31/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"languages":{"hits_empty":"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹ï¼š${query}"}},
  translate: undefined,
  noticeOutdate: {"limitDay":365,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":230},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶é”™è¯¯',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  relativeDate: {
    homepage: true,
    post: true
  },
  runtime: '',
  date_suffix: {
    just: 'åˆšåˆš',
    min: 'åˆ†é’Ÿå‰',
    hour: 'å°æ—¶å‰',
    day: 'å¤©å‰',
    month: 'ä¸ªæœˆå‰'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdnjs.cloudflare.com/ajax/libs/flickr-justified-gallery/2.1.2/fjGallery.min.js',
      css: 'https://cdnjs.cloudflare.com/ajax/libs/flickr-justified-gallery/2.1.2/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'GOè¯­è¨€åŸºç¡€æ¡ˆä¾‹è®²è§£',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2025-05-20 16:50:31'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const now = new Date()
          const hour = now.getHours()
          const isNight = hour <= 6 || hour >= 18
          if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
          else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="https://cdn1.tianli0.top/npm/element-ui@2.15.6/packages/theme-chalk/lib/index.css"><style id="themeColor"></style><style id="rightSide"></style><style id="transPercent"></style><style id="blurNum"></style><style id="settingStyle"></style><span id="fps"></span><style id="defineBg"></style><style id="menu_shadow"></style><svg aria-hidden="true" style="position:absolute; overflow:hidden; width:0; height:0"><symbol id="icon-sun" viewBox="0 0 1024 1024"><path d="M960 512l-128 128v192h-192l-128 128-128-128H192v-192l-128-128 128-128V192h192l128-128 128 128h192v192z" fill="#FFD878" p-id="8420"></path><path d="M736 512a224 224 0 1 0-448 0 224 224 0 1 0 448 0z" fill="#FFE4A9" p-id="8421"></path><path d="M512 109.248L626.752 224H800v173.248L914.752 512 800 626.752V800h-173.248L512 914.752 397.248 800H224v-173.248L109.248 512 224 397.248V224h173.248L512 109.248M512 64l-128 128H192v192l-128 128 128 128v192h192l128 128 128-128h192v-192l128-128-128-128V192h-192l-128-128z" fill="#4D5152" p-id="8422"></path><path d="M512 320c105.888 0 192 86.112 192 192s-86.112 192-192 192-192-86.112-192-192 86.112-192 192-192m0-32a224 224 0 1 0 0 448 224 224 0 0 0 0-448z" fill="#4D5152" p-id="8423"></path></symbol><symbol id="icon-moon" viewBox="0 0 1024 1024"><path d="M611.370667 167.082667a445.013333 445.013333 0 0 1-38.4 161.834666 477.824 477.824 0 0 1-244.736 244.394667 445.141333 445.141333 0 0 1-161.109334 38.058667 85.077333 85.077333 0 0 0-65.066666 135.722666A462.08 462.08 0 1 0 747.093333 102.058667a85.077333 85.077333 0 0 0-135.722666 65.024z" fill="#FFB531" p-id="11345"></path><path d="M329.728 274.133333l35.157333-35.157333a21.333333 21.333333 0 1 0-30.165333-30.165333l-35.157333 35.157333-35.114667-35.157333a21.333333 21.333333 0 0 0-30.165333 30.165333l35.114666 35.157333-35.114666 35.157334a21.333333 21.333333 0 1 0 30.165333 30.165333l35.114667-35.157333 35.157333 35.157333a21.333333 21.333333 0 1 0 30.165333-30.165333z" fill="#030835" p-id="11346"></path></symbol></svg><!-- hexo injector head_end start --><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiperstyle.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/font-awesome-animation.min.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/tag_plugins.css" media="defer" onload="this.media='all'"><script src="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/carousel-touch.js"></script><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-filter-gitcalendar/lib/gitcalendar.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/animate.min.css" media="print" onload="this.media='screen'"><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="CoderyeahğŸ‰" type="application/atom+xml">
</head><body><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><div class="loading-img"></div><div class="loading-image-dot"></div></div></div><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://tuchuang.voooe.cn/images/2023/01/02/avatar.webp" onerror="onerror=null;src='/assets/r1.jpg'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">92</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">20</div></a><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">8</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-home"></use></svg><span class="menu_word" style="font-size:17px"> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon--article"></use></svg><span class="menu_word" style="font-size:17px"> æ–‡ç« </span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-guidang1">                   </use></svg><span class="menu_word" style="font-size:17px"> å½’æ¡£</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-sekuaibiaoqian">                   </use></svg><span class="menu_word" style="font-size:17px"> æ ‡ç­¾</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-fenlei">                   </use></svg><span class="menu_word" style="font-size:17px"> åˆ†ç±»</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-pinweishenghuo"></use></svg><span class="menu_word" style="font-size:17px"> ä¼‘é—²</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/life/music/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-yinle">                   </use></svg><span class="menu_word" style="font-size:17px"> å…«éŸ³ç›’</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/life/movies/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-dianying1">                   </use></svg><span class="menu_word" style="font-size:17px"> å½±é™¢</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/life/games/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-youxishoubing">                   </use></svg><span class="menu_word" style="font-size:17px"> æ¸¸æˆ</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-xiangzi"></use></svg><span class="menu_word" style="font-size:17px"> å…«å®ç®±</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/box/gallery/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-tubiaozhizuomoban">                   </use></svg><span class="menu_word" style="font-size:17px"> ç”»å»Š</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/box/animation/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-nvwumao">                   </use></svg><span class="menu_word" style="font-size:17px"> åŠ¨ç”»</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/box/nav/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-zhifengche">                   </use></svg><span class="menu_word" style="font-size:17px"> ç½‘å€å¯¼èˆª</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-shejiaoxinxi"></use></svg><span class="menu_word" style="font-size:17px"> ç¤¾äº¤</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/social/fcircle/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-pengyouquan">                   </use></svg><span class="menu_word" style="font-size:17px"> æœ‹å‹åœˆ</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/comments/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-liuyan">                   </use></svg><span class="menu_word" style="font-size:17px"> ç•™è¨€æ¿</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/social/link/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-lianjie">                   </use></svg><span class="menu_word" style="font-size:17px"> å‹äººå¸</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-wangye"></use></svg><span class="menu_word" style="font-size:17px"> ç½‘ç«™</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/site/census/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon--tongjibiao">                   </use></svg><span class="menu_word" style="font-size:17px"> ç½‘ç«™ç»Ÿè®¡</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/site/echarts/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-shujutongji1">                   </use></svg><span class="menu_word" style="font-size:17px"> æ–‡ç« ç»Ÿè®¡</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/site/time/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-xianxingshalou">                   </use></svg><span class="menu_word" style="font-size:17px"> æ—§æ—¶å…‰</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-maoliang"></use></svg><span class="menu_word" style="font-size:17px"> ä¸ªäºº</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/personal/bb/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-qunliaotian">                   </use></svg><span class="menu_word" style="font-size:17px"> å” å¨</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/personal/love/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-love-sign">                   </use></svg><span class="menu_word" style="font-size:17px"> æ‹çˆ±å°å±‹</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/personal/about/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-paperplane">                   </use></svg><span class="menu_word" style="font-size:17px"> å…³äº</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">CoderyeahğŸ‰</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-home"></use></svg><span class="menu_word" style="font-size:17px"> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon--article"></use></svg><span class="menu_word" style="font-size:17px"> æ–‡ç« </span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-guidang1">                   </use></svg><span class="menu_word" style="font-size:17px"> å½’æ¡£</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-sekuaibiaoqian">                   </use></svg><span class="menu_word" style="font-size:17px"> æ ‡ç­¾</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-fenlei">                   </use></svg><span class="menu_word" style="font-size:17px"> åˆ†ç±»</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-pinweishenghuo"></use></svg><span class="menu_word" style="font-size:17px"> ä¼‘é—²</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/life/music/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-yinle">                   </use></svg><span class="menu_word" style="font-size:17px"> å…«éŸ³ç›’</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/life/movies/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-dianying1">                   </use></svg><span class="menu_word" style="font-size:17px"> å½±é™¢</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/life/games/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-youxishoubing">                   </use></svg><span class="menu_word" style="font-size:17px"> æ¸¸æˆ</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-xiangzi"></use></svg><span class="menu_word" style="font-size:17px"> å…«å®ç®±</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/box/gallery/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-tubiaozhizuomoban">                   </use></svg><span class="menu_word" style="font-size:17px"> ç”»å»Š</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/box/animation/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-nvwumao">                   </use></svg><span class="menu_word" style="font-size:17px"> åŠ¨ç”»</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/box/nav/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-zhifengche">                   </use></svg><span class="menu_word" style="font-size:17px"> ç½‘å€å¯¼èˆª</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-shejiaoxinxi"></use></svg><span class="menu_word" style="font-size:17px"> ç¤¾äº¤</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/social/fcircle/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-pengyouquan">                   </use></svg><span class="menu_word" style="font-size:17px"> æœ‹å‹åœˆ</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/comments/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-liuyan">                   </use></svg><span class="menu_word" style="font-size:17px"> ç•™è¨€æ¿</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/social/link/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-lianjie">                   </use></svg><span class="menu_word" style="font-size:17px"> å‹äººå¸</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-wangye"></use></svg><span class="menu_word" style="font-size:17px"> ç½‘ç«™</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/site/census/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon--tongjibiao">                   </use></svg><span class="menu_word" style="font-size:17px"> ç½‘ç«™ç»Ÿè®¡</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/site/echarts/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-shujutongji1">                   </use></svg><span class="menu_word" style="font-size:17px"> æ–‡ç« ç»Ÿè®¡</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/site/time/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-xianxingshalou">                   </use></svg><span class="menu_word" style="font-size:17px"> æ—§æ—¶å…‰</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-maoliang"></use></svg><span class="menu_word" style="font-size:17px"> ä¸ªäºº</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/personal/bb/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-qunliaotian">                   </use></svg><span class="menu_word" style="font-size:17px"> å” å¨</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/personal/love/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-love-sign">                   </use></svg><span class="menu_word" style="font-size:17px"> æ‹çˆ±å°å±‹</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/personal/about/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-paperplane">                   </use></svg><span class="menu_word" style="font-size:17px"> å…³äº</span></a></li></ul></div></div><center id="name-container"><a id="page-name" href="javascript:scrollToTop()">PAGE_NAME</a></center><div id="nav-right"><div id="search-button"><a class="search faa-parent animated-hover" title="æ£€ç´¢ç«™å†…ä»»ä½•ä½ æƒ³è¦çš„ä¿¡æ¯"><svg class="faa-tada icon" style="height:24px;width:24px;fill:currentColor;position:relative;top:6px" aria-hidden="true"><use xlink:href="#icon-valentine_-search-love-find-heart"></use></svg><span> æœç´¢</span></a></div><a class="meihua faa-parent animated-hover" onclick="toggleWinbox()" title="ç¾åŒ–è®¾ç½®-è‡ªå®šä¹‰ä½ çš„é£æ ¼" id="meihua-button"><svg class="faa-tada icon" style="height:26px;width:26px;fill:currentColor;position:relative;top:8px" aria-hidden="true"><use xlink:href="#icon-tupian1"></use></svg></a><a class="sun_moon faa-parent animated-hover" onclick="switchNightMode()" title="æµ…è‰²å’Œæ·±è‰²æ¨¡å¼è½¬æ¢" id="nightmode-button"><svg class="faa-tada" style="height:25px;width:25px;fill:currentColor;position:relative;top:7px" viewBox="0 0 1024 1024"><use id="modeicon" xlink:href="#icon-moon">       </use></svg></a><div id="toggle-menu"><a><i class="fas fa-bars fa-fw"></i></a></div></div></div></nav><div id="post-info"><h1 class="post-title">GOè¯­è¨€åŸºç¡€æ¡ˆä¾‹è®²è§£</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><svg class="meta_icon post-meta-icon" style="width:30px;height:30px;position:relative;top:10px"><use xlink:href="#icon-rili"></use></svg><span class="post-meta-label">å‘è¡¨äº </span><time class="post-meta-date-created" datetime="2025-05-20T08:38:30.372Z" title="å‘è¡¨äº 2025-05-20 16:38:30">2025-05-20</time><span class="post-meta-separator">|</span><svg class="meta_icon post-meta-icon" style="width:18px;height:18px;position:relative;top:5px"><use xlink:href="#icon-gengxin1"></use></svg><span class="post-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2025-05-20T08:50:31.219Z" title="æ›´æ–°äº 2025-05-20 16:50:31">2025-05-20</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><svg class="meta_icon post-meta-icon" style="width:25px;height:25px;position:relative;top:8px"><use xlink:href="#icon-charuword"></use></svg><span class="post-meta-label">å­—æ•°æ€»è®¡:</span><span class="word-count">8937</span><span class="post-meta-separator">|</span><svg class="meta_icon post-meta-icon" style="width:20px;height:20px;position:relative;top:5px"><use xlink:href="#icon-shizhong"></use></svg><span class="post-meta-label">é˜…è¯»æ—¶é•¿:</span><span>44åˆ†é’Ÿ</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="GOè¯­è¨€åŸºç¡€æ¡ˆä¾‹è®²è§£"><svg class="meta_icon post-meta-icon" style="width:25px;height:25px;position:relative;top:5px"><use xlink:href="#icon-eye"></use></svg><span class="post-meta-label">é˜…è¯»é‡:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h3 id="ä¸€-å­—ç¬¦æ‰“å°">ä¸€. å­—ç¬¦æ‰“å°</h3>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main <span class="comment">// æ‰€å±åŒ…</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span> <span class="comment">// å¯¼å…¥fmtåŒ…ç”¨äºæ‰“å°</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123; <span class="comment">// ä¸»å‡½æ•°ç¨‹åºè¿è¡Œå…¥å£</span></span><br><span class="line">    c1 := <span class="string">&#x27;0&#x27;</span> <span class="comment">// å®šä¹‰å­—ç¬¦</span></span><br><span class="line">    fmt.Println(c1)</span><br><span class="line">    fmt.Printf(<span class="string">&quot;%T\n&quot;</span>, c1) <span class="comment">// é»˜è®¤ä½¿ç”¨int32</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> temp <span class="type">int64</span> = <span class="number">9999999999</span></span><br><span class="line">    fmt.Println(temp)</span><br><span class="line"></span><br><span class="line">    c2 := <span class="string">&#x27;z&#x27;</span></span><br><span class="line">    fmt.Println(c2)</span><br><span class="line">    fmt.Printf(<span class="string">&quot;%T&quot;</span>, c2)</span><br><span class="line">    fmt.Println(<span class="string">&quot;--------------------------------------&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> c3 <span class="type">byte</span> = <span class="string">&#x27;F&#x27;</span></span><br><span class="line">    fmt.Printf(<span class="string">&quot;ç±»å‹ï¼š%T,ascllå€¼:%d,å­—ç¬¦å€¼:%c\n&quot;</span>, c3, c3, c3)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> c4 <span class="type">int</span> = <span class="number">23450</span></span><br><span class="line">    fmt.Printf(<span class="string">&quot;%c\n&quot;</span>, c4) <span class="comment">// å®š </span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="äºŒ-ç±»å‹è½¬æ¢">äºŒ. ç±»å‹è½¬æ¢</h3>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;strconv&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> a <span class="type">int64</span> = <span class="number">99</span></span><br><span class="line">	<span class="keyword">var</span> b <span class="type">float64</span></span><br><span class="line">	<span class="keyword">var</span> c <span class="type">bool</span> </span><br><span class="line">	d := <span class="string">&quot;hello æ¸…æ¸…&quot;</span></span><br><span class="line"></span><br><span class="line">	fmt.Printf(<span class="string">&quot;type:%T,%v\n&quot;</span>, a, a)</span><br><span class="line">	fmt.Printf(<span class="string">&quot;%v\n&quot;</span>, b)</span><br><span class="line">	fmt.Printf(<span class="string">&quot;%v\n&quot;</span>, c)</span><br><span class="line">	fmt.Printf(<span class="string">&quot;%v\n&quot;</span>, d)</span><br><span class="line"></span><br><span class="line">	<span class="comment">//å­—ç¬¦è½¬æ¢ %d:åè¿›åˆ¶æ ¼å¼è¾“å‡º</span></span><br><span class="line">	<span class="keyword">var</span> str <span class="type">string</span></span><br><span class="line">	str = fmt.Sprintf(<span class="string">&quot;%d&quot;</span>, a)                   <span class="comment">// %d:åè¿›åˆ¶æ ¼å¼è¾“å‡º</span></span><br><span class="line">	fmt.Printf(<span class="string">&quot;str type:%T,val:%s\n&quot;</span>, str, str) <span class="comment">// str type:string,val:99</span></span><br><span class="line">	fmt.Printf(<span class="string">&quot;str type:%T,val:%q\n&quot;</span>, str, str) <span class="comment">// str type:string,val:&quot;99&quot;</span></span><br><span class="line"></span><br><span class="line">	str = fmt.Sprintf(<span class="string">&quot;%f&quot;</span>, b)                   <span class="comment">// %f:æµ®ç‚¹æ ¼å¼è¾“å‡º</span></span><br><span class="line">	fmt.Printf(<span class="string">&quot;str type:%T,val:%v\n&quot;</span>, str, str) <span class="comment">// str type:string,val:0</span></span><br><span class="line"></span><br><span class="line">	str = fmt.Sprintf(<span class="string">&quot;%t&quot;</span>, c)                   <span class="comment">// %t:å¸ƒå°”æ ¼å¼è¾“å‡º</span></span><br><span class="line">	fmt.Printf(<span class="string">&quot;str type:%T,val:%q\n&quot;</span>, str, str) <span class="comment">// str type:string,val:&quot;false&quot;</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">// strconv è¿›åˆ¶è½¬æ¢</span></span><br><span class="line">	f := strconv.FormatInt(<span class="number">-87</span>, <span class="number">2</span>) <span class="comment">// äºŒè¿›åˆ¶</span></span><br><span class="line">	fmt.Printf(<span class="string">&quot;a:%s\n&quot;</span>, f)        <span class="comment">// -10111</span></span><br><span class="line"></span><br><span class="line">	o := strconv.FormatUint(<span class="number">87</span>, <span class="number">2</span>) <span class="comment">// äºŒè¿›åˆ¶</span></span><br><span class="line">	fmt.Printf(<span class="string">&quot;87:%s\n&quot;</span>, o)       <span class="comment">// 10111</span></span><br><span class="line"></span><br><span class="line">	g := strconv.FormatBool(c)</span><br><span class="line">	fmt.Printf(<span class="string">&quot;c:%q\n&quot;</span>, g) <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line">	fmt.Println(<span class="string">&quot;------------------------------------------------&quot;</span>)</span><br><span class="line"></span><br><span class="line">	m := <span class="string">&quot;99&quot;</span></span><br><span class="line">	fmt.Printf(<span class="string">&quot;%T,%v\n&quot;</span>, m, m) <span class="comment">// string,99</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> p <span class="type">int64</span> = <span class="type">int64</span>(b) <span class="comment">// å¼ºåˆ¶è½¬æ¢</span></span><br><span class="line">	fmt.Printf(<span class="string">&quot;%T,%v\n&quot;</span>, p, p) <span class="comment">// int64,0</span></span><br><span class="line"></span><br><span class="line">	atoi, err := strconv.Atoi(m) <span class="comment">// å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•´å‹</span></span><br><span class="line">	fmt.Println(<span class="string">&quot;atoi:&quot;</span>, atoi, err) <span class="comment">// atoi:99 &lt;nil&gt;</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="ä¸‰-strconvåŒ…ç±»å‹è½¬æ¢">ä¸‰.<code>strconv</code>åŒ…ç±»å‹è½¬æ¢</h3>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;strconv&quot;</span></span><br><span class="line">	<span class="string">&quot;unsafe&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> str = <span class="string">&quot;true&quot;</span></span><br><span class="line">	<span class="keyword">var</span> b <span class="type">bool</span></span><br><span class="line">	b, _ = strconv.ParseBool(str)</span><br><span class="line"></span><br><span class="line">	fmt.Printf(<span class="string">&quot;b type:%T, b=%v \n&quot;</span>, b, b) <span class="comment">// b type:bool, b=true</span></span><br><span class="line">	fmt.Println(<span class="string">&quot;----------------------------&quot;</span>)</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> str2 = <span class="string">&quot;123453&quot;</span></span><br><span class="line">	<span class="keyword">var</span> num <span class="type">int64</span></span><br><span class="line">	num, _ = strconv.ParseInt(str2, <span class="number">10</span>, <span class="number">64</span>)      <span class="comment">// 10è¿›åˆ¶, 64ä½</span></span><br><span class="line">	fmt.Printf(<span class="string">&quot;num type:%T, b=%v \n&quot;</span>, num, num) <span class="comment">// num type:int64, b=123453</span></span><br><span class="line">	<span class="keyword">var</span> num2 <span class="type">int</span> = <span class="type">int</span>(num)</span><br><span class="line">	fmt.Printf(<span class="string">&quot;num type:%T, b=%v \n&quot;</span>, num2, num2) <span class="comment">// num type:int, b=123453</span></span><br><span class="line">	fmt.Printf(<span class="string">&quot;-------------------\n&quot;</span>)</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> str3 <span class="type">string</span> = <span class="string">&quot;123.456&quot;</span></span><br><span class="line">	<span class="keyword">var</span> f1 <span class="type">float64</span></span><br><span class="line">	f1, _ = strconv.ParseFloat(str3, <span class="number">64</span>)      <span class="comment">// 64ä½</span></span><br><span class="line">	fmt.Printf(<span class="string">&quot;f1 type:%T, b=%v \n&quot;</span>, f1, f1) <span class="comment">// f1 type:float64, b=123.456</span></span><br><span class="line"></span><br><span class="line">	fmt.Println(<span class="string">&quot;------------------------&quot;</span>)</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> str4 = <span class="string">&quot;hello&quot;</span></span><br><span class="line">	i, err := strconv.ParseInt(str4, <span class="number">10</span>, <span class="number">64</span>) <span class="comment">// 10è¿›åˆ¶, 64ä½</span></span><br><span class="line">	fmt.Printf(<span class="string">&quot;i:%T, i=%v\n&quot;</span>, i, i)         <span class="comment">// i:int64, i=0 </span></span><br><span class="line">	fmt.Println(<span class="string">&quot;err:&quot;</span>, err)                 <span class="comment">//err: strconv.ParseInt: parsing &quot;hello&quot;: invalid syntax</span></span><br><span class="line"></span><br><span class="line">	name := <span class="string">&quot;jojo&quot;</span></span><br><span class="line">	fmt.Println(<span class="string">&quot;my name is &quot;</span> + name) <span class="comment">// my name is jojo</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">// unsafe.Sizeof å‡½æ•°ä¼šè¿”å›ä¸€ä¸ª int ç±»å‹çš„å€¼ï¼Œè¡¨ç¤ºæŒ‡å®šç±»å‹çš„å­—èŠ‚å¤§å°</span></span><br><span class="line">	fmt.Print(unsafe.Sizeof(name)) <span class="comment">// 16</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="å››-mathå’ŒrandåŒ…çš„åº”ç”¨">å››.<code>mathå’Œrand</code>åŒ…çš„åº”ç”¨</h3>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;math&quot;</span></span><br><span class="line">	<span class="string">&quot;math/rand&quot;</span></span><br><span class="line">	<span class="string">&quot;strconv&quot;</span></span><br><span class="line">	<span class="string">&quot;time&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">// è·å–å½“å‰æ—¶é—´çš„ Unix çº³ç§’æ—¶é—´æˆ³ ç¡®ä¿æ•°åˆ—æ”¹å˜</span></span><br><span class="line">	rand.Seed(time.Now().UnixNano()) <span class="comment">// è®¾ç½®éšæœºæ•°ç§å­</span></span><br><span class="line">	fmt.Println(rand.Intn(<span class="number">10</span>))       <span class="comment">// 0-9</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//%gæ˜¯ä¸€ä¸ªæ ¼å¼åŒ–å­—ç¬¦ï¼Œç”¨äºä»¥ç§‘å­¦è®¡æ•°æ³•æˆ–åè¿›åˆ¶å½¢å¼æ‰“å°æµ®ç‚¹æ•°</span></span><br><span class="line">	fmt.Printf(<span class="string">&quot;my number is %g\n&quot;</span>, math.Sqrt(<span class="number">50</span>)) <span class="comment">//my number is 7.0710678118654755</span></span><br><span class="line">	fmt.Println(math.Pi)                           <span class="comment">//3.141592653589793</span></span><br><span class="line"></span><br><span class="line">	fmt.Println(add(<span class="number">21</span>, <span class="number">22</span>))</span><br><span class="line"></span><br><span class="line">	a, b := swap(<span class="string">&quot;hello&quot;</span>, <span class="string">&quot;world&quot;</span>)</span><br><span class="line"></span><br><span class="line">	fmt.Println(a, b) <span class="comment">//world hello</span></span><br><span class="line"></span><br><span class="line">	fmt.Println(split(<span class="number">0</span>)) <span class="comment">//0 0</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> c, python, java <span class="type">bool</span></span><br><span class="line">	<span class="keyword">var</span> i <span class="type">int</span></span><br><span class="line">	fmt.Println(c, python, java, i) <span class="comment">//false false false 0</span></span><br><span class="line">	test1()</span><br><span class="line"></span><br><span class="line">	fmt.Println(sum100()) <span class="comment">//5050</span></span><br><span class="line"></span><br><span class="line">	fmt.Println(sqrt2(<span class="number">-9</span>), sqrt2(<span class="number">81</span>)) <span class="comment">//3 9</span></span><br><span class="line"></span><br><span class="line">	fmt.Println(pow(<span class="number">3</span>, <span class="number">2</span>, <span class="number">10</span>)) <span class="comment">//9</span></span><br><span class="line">	fmt.Println(pow(<span class="number">3</span>, <span class="number">3</span>, <span class="number">10</span>)) <span class="comment">//27</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// pow(x,n,lim) calculates x^n and returns lim if overflow occurs è®¡ç®— x^n å¹¶åœ¨å‘ç”Ÿæº¢å‡ºæ—¶è¿”å› lim</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">pow</span><span class="params">(x, n, lim <span class="type">float64</span>)</span></span> <span class="type">float64</span> &#123;</span><br><span class="line">	<span class="keyword">if</span> v := math.Pow(x, n); v &lt; lim &#123;</span><br><span class="line">		<span class="keyword">return</span> v</span><br><span class="line">	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		fmt.Printf(<span class="string">&quot;%g&gt;=%g\n&quot;</span>, v, lim)</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> lim</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// sqrt2(x) returns the square root of x è®¡ç®— x çš„å¹³æ–¹æ ¹</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">sqrt2</span><span class="params">(x <span class="type">float64</span>)</span></span> <span class="type">string</span> &#123;</span><br><span class="line">	<span class="keyword">if</span> x &lt; <span class="number">0</span> &#123;</span><br><span class="line">		<span class="comment">/*</span></span><br><span class="line"><span class="comment">		- math.Sqrt(-x)ï¼šè¡¨ç¤ºéœ€è¦æ ¼å¼åŒ–çš„æµ®ç‚¹æ•°ï¼Œè¿™é‡Œçš„math.Sqrt(-x)æ˜¯ä¸ºäº†ç¤ºä¾‹è´Ÿæ•°å¼€æ ¹å·çš„æƒ…å†µã€‚ </span></span><br><span class="line"><span class="comment">		- &#x27;f&#x27;ï¼šè¡¨ç¤ºä½¿ç”¨å›ºå®šç‚¹è¡¨ç¤ºæ³•è¿›è¡Œæ ¼å¼åŒ–ã€‚ </span></span><br><span class="line"><span class="comment">		- -1ï¼šè¡¨ç¤ºå°æ•°ç‚¹åçš„ä½æ•°ï¼Œ-1è¡¨ç¤ºä½¿ç”¨é»˜è®¤ä½æ•°ã€‚  ç²¾åº¦</span></span><br><span class="line"><span class="comment">		- 64ï¼šè¡¨ç¤ºæµ®ç‚¹æ•°çš„ä½æ•°ï¼Œè¿™é‡Œæ˜¯64ä½çš„æµ®ç‚¹æ•°ã€‚</span></span><br><span class="line"><span class="comment">		*/</span></span><br><span class="line">		<span class="keyword">return</span> strconv.FormatFloat(math.Sqrt(-x), <span class="string">&#x27;f&#x27;</span>, <span class="number">-1</span>, <span class="number">64</span>) </span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> fmt.Sprint(math.Sqrt(x))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// add(x,y) returns the sum of x and y è®¡ç®— x å’Œ y çš„å’Œ</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">add</span><span class="params">(x, y <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">	<span class="keyword">return</span> x + y</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// swap(x</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">swap</span><span class="params">(x, y <span class="type">string</span>)</span></span> (<span class="type">string</span>, <span class="type">string</span>) &#123;</span><br><span class="line">	<span class="keyword">return</span> y, x</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// split(sum) returns two integers, x and y, that sum to sum è®¡ç®— sum çš„ä¸¤ä¸ªæ•´æ•° x å’Œ y</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">split</span><span class="params">(sum <span class="type">int</span>)</span></span> (x, y <span class="type">int</span>) &#123;</span><br><span class="line">	x = sum * <span class="number">4</span> / <span class="number">9</span></span><br><span class="line">	y = sum - x</span><br><span class="line">	<span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">test1</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> x, y <span class="type">int</span> = <span class="number">3</span>, <span class="number">4</span></span><br><span class="line">	f := math.Sqrt(<span class="type">float64</span>(x*x + y*y))</span><br><span class="line">	z := <span class="type">uint</span>(f) <span class="comment">//å°†fè½¬æ¢ä¸ºuintç±»å‹</span></span><br><span class="line">	fmt.Println(x, y, f, z) <span class="comment">//3 4 5 5</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// sum100() returns the sum of 1+2+3+...+100 1+2+3+...+100 çš„å’Œ</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">sum100</span><span class="params">()</span></span> <span class="type">int</span> &#123;</span><br><span class="line">	sum := <span class="number">0</span></span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt;= <span class="number">100</span>; i++ &#123;</span><br><span class="line">		sum += i</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> sum</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è‡ªèº«ç´¯åŠ  æ¯æ¬¡ç¿»å€ 2 4 8 16 32 64 128 256 512 1024</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">forTest</span><span class="params">()</span></span> <span class="type">int</span> &#123;</span><br><span class="line">	sum := <span class="number">1</span></span><br><span class="line">	<span class="keyword">for</span> sum &lt; <span class="number">1000</span> &#123;</span><br><span class="line">		sum += sum</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> sum</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">foeTest2</span><span class="params">()</span></span> <span class="type">int</span> &#123;</span><br><span class="line">	sum := <span class="number">1</span></span><br><span class="line">	<span class="keyword">for</span> sum &lt; <span class="number">100</span> &#123;</span><br><span class="line">		sum += sum</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> sum</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="äº”-switchçš„ä½¿ç”¨å’Œç‰›é¡¿æ³•é€¼è¿‘å¹³æ–¹æ ¹">äº”.<code>switch</code>çš„ä½¿ç”¨å’Œç‰›é¡¿æ³•é€¼è¿‘å¹³æ–¹æ ¹</h3>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;math&quot;</span></span><br><span class="line">	<span class="string">&quot;runtime&quot;</span></span><br><span class="line">	<span class="string">&quot;time&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// z -= (z*z - x) / (2*z) ç‰›é¡¿æ³•é€¼è¿‘å¹³æ–¹æ ¹</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">sqrt</span><span class="params">(x <span class="type">float64</span>)</span></span> <span class="type">float64</span> &#123;</span><br><span class="line">	<span class="comment">// ç»™å®šåˆå§‹å€¼</span></span><br><span class="line">	z := <span class="number">1.0</span></span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">8</span>; i++ &#123;</span><br><span class="line">		z -= (z*z - x) / (<span class="number">2</span> * z)</span><br><span class="line">		fmt.Println(<span class="string">&quot;è¿­ä»£æ¬¡æ•°&quot;</span>, i+<span class="number">1</span>, <span class="string">&quot;çš„å€¼ï¼š&quot;</span>, z)</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> z</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å–è¿è¡Œç³»ç»Ÿ</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">switchTest</span><span class="params">()</span></span> &#123;</span><br><span class="line">	fmt.Print(<span class="string">&quot;GO runs on &quot;</span>)</span><br><span class="line">	<span class="keyword">switch</span> os := runtime.GOOS; os &#123; <span class="comment">//os := runtime.GOOS; åˆå§‹åŒ–è¯­å¥åˆ†å·éš”å¼€</span></span><br><span class="line">	<span class="keyword">case</span> <span class="string">&quot;darwin&quot;</span>:</span><br><span class="line">		fmt.Println(<span class="string">&quot;OS X.&quot;</span>)</span><br><span class="line">	<span class="keyword">case</span> <span class="string">&quot;linux&quot;</span>:</span><br><span class="line">		fmt.Println(<span class="string">&quot;Linux.&quot;</span>)</span><br><span class="line">	<span class="keyword">default</span>:</span><br><span class="line">		<span class="comment">// freebsd, openbsd,</span></span><br><span class="line">		<span class="comment">// plan9, windows...</span></span><br><span class="line">		fmt.Printf(<span class="string">&quot;%s.\n&quot;</span>, os) <span class="comment">// æ‰“å°é»˜è®¤å€¼</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ—¶é—´</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">when</span><span class="params">()</span></span> &#123;</span><br><span class="line">	fmt.Println(<span class="string">&quot;when&#x27;s saturday?&quot;</span>)</span><br><span class="line">	today := time.Now().Weekday() <span class="comment">// è·å–ä»Šå¤©æ˜ŸæœŸ</span></span><br><span class="line">	<span class="keyword">switch</span> time.Saturday &#123;        <span class="comment">// 6</span></span><br><span class="line">	<span class="keyword">case</span> today + <span class="number">0</span>:</span><br><span class="line">		fmt.Println(<span class="string">&quot;Today&quot;</span>)</span><br><span class="line">	<span class="keyword">case</span> today + <span class="number">1</span>:</span><br><span class="line">		fmt.Println(<span class="string">&quot;Tomorrow&quot;</span>)</span><br><span class="line">	<span class="keyword">case</span> today + <span class="number">2</span>:</span><br><span class="line">		fmt.Println(<span class="string">&quot;In two days&quot;</span>)</span><br><span class="line">	<span class="keyword">case</span> today + <span class="number">3</span>:</span><br><span class="line">		fmt.Println(<span class="string">&quot;In three days&quot;</span>)</span><br><span class="line">	<span class="keyword">case</span> today + <span class="number">4</span>:</span><br><span class="line">		fmt.Println(<span class="string">&quot;In four days&quot;</span>)</span><br><span class="line">	<span class="keyword">default</span>:</span><br><span class="line">		fmt.Println(<span class="string">&quot;Too far away.&quot;</span>)</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ—¶é—´</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">sayHi</span><span class="params">()</span></span> &#123;</span><br><span class="line">	t := time.Now().Hour()</span><br><span class="line">	<span class="keyword">switch</span> &#123;</span><br><span class="line">	<span class="keyword">case</span> t &lt; <span class="number">12</span>:</span><br><span class="line">		fmt.Println(<span class="string">&quot;Good morning!&quot;</span>, t)</span><br><span class="line">	<span class="keyword">case</span> t &lt;= <span class="number">17</span>:</span><br><span class="line">		fmt.Println(<span class="string">&quot;Good afternoon!&quot;</span>, t)</span><br><span class="line">	<span class="keyword">default</span>:</span><br><span class="line">		fmt.Println(<span class="string">&quot;Good evening!&quot;</span>, t)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	fmt.Println(<span class="string">&quot;è®¡ç®—å€¼ï¼š&quot;</span>, sqrt(<span class="number">36</span>))        <span class="comment">//6</span></span><br><span class="line">	fmt.Println(<span class="string">&quot;mathåº“ï¼š&quot;</span>, math.Sqrt(<span class="number">36</span>)) <span class="comment">//6</span></span><br><span class="line"></span><br><span class="line">	switchTest()</span><br><span class="line"></span><br><span class="line">	fmt.Println(runtime.GOOS) <span class="comment">// windows</span></span><br><span class="line">	<span class="keyword">defer</span> when()              <span class="comment">// å»¶è¿Ÿæ‰§è¡Œ</span></span><br><span class="line"></span><br><span class="line">	sayHi()</span><br><span class="line">	<span class="comment">/*</span></span><br><span class="line"><span class="comment">		GO runs on windows.</span></span><br><span class="line"><span class="comment">		windows</span></span><br><span class="line"><span class="comment">		Good afternoon! 14</span></span><br><span class="line"><span class="comment">		when&#x27;s saturday?</span></span><br><span class="line"><span class="comment">		Tomorrow</span></span><br><span class="line"><span class="comment">	*/</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="å…­-æŒ‡é’ˆçš„ä½¿ç”¨å’Œè‡ªå®šä¹‰ç»“æ„ä½“">å…­. æŒ‡é’ˆçš„ä½¿ç”¨å’Œè‡ªå®šä¹‰ç»“æ„ä½“</h3>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æŒ‡é’ˆç¤ºä¾‹</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">testP1</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> i, j <span class="type">float64</span> = <span class="number">42</span>, <span class="number">2701</span> <span class="comment">// å£°æ˜å˜é‡ i, j å¹¶åˆå§‹åŒ–</span></span><br><span class="line">	p := &amp;i                     <span class="comment">// p æŒ‡å‘ i</span></span><br><span class="line">	*p = <span class="number">21</span>                     <span class="comment">// ç›¸å½“äº i = 21</span></span><br><span class="line">	fmt.Println(*p)             <span class="comment">// 21</span></span><br><span class="line"></span><br><span class="line">	p = &amp;j         <span class="comment">// p æŒ‡å‘ j</span></span><br><span class="line">	*p = *p / <span class="number">2</span>    <span class="comment">// ç›¸å½“äº j = j / 2</span></span><br><span class="line">	fmt.Println(j) <span class="comment">// 1350.5</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Person è‡ªå®šä¹‰ç»“æ„ä½“ ç±»ä¼¼äºJAVAä¸­çš„ç±»</span></span><br><span class="line"><span class="keyword">type</span> Person <span class="keyword">struct</span> &#123;</span><br><span class="line">	Name <span class="type">string</span> <span class="comment">// å§“å</span></span><br><span class="line">	Age  <span class="type">int</span>    <span class="comment">// å¹´é¾„</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Vertex è‡ªå®šä¹‰ç»“æ„ä½“ åæ ‡</span></span><br><span class="line"><span class="keyword">type</span> Vertex <span class="keyword">struct</span> &#123;</span><br><span class="line">	X <span class="type">float64</span></span><br><span class="line">	Y <span class="type">float64</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	testP1()</span><br><span class="line">	fmt.Println(Person&#123;</span><br><span class="line">		<span class="string">&quot;å¼ ä¸‰&quot;</span>,</span><br><span class="line">		<span class="number">18</span>,</span><br><span class="line">	&#125;)</span><br><span class="line"></span><br><span class="line">	person := Person&#123;</span><br><span class="line">		<span class="string">&quot;å¼ ä¸‰&quot;</span>,</span><br><span class="line">		<span class="number">18</span>,</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	fmt.Println(person.Name)<span class="comment">// å¼ ä¸‰</span></span><br><span class="line"></span><br><span class="line">	v := Vertex&#123;<span class="number">3</span>, <span class="number">5</span>&#125;</span><br><span class="line">	fmt.Println(v.Y) <span class="comment">// 5</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//åˆå§‹åŒ–</span></span><br><span class="line">	<span class="keyword">var</span> (</span><br><span class="line">		v1 = Vertex&#123;<span class="number">1</span>, <span class="number">2</span>&#125;</span><br><span class="line">		v2 = Vertex&#123;X: <span class="number">3</span>&#125;</span><br><span class="line">		v3 = Vertex&#123;Y: <span class="number">6</span>&#125;</span><br><span class="line">		<span class="comment">//p  = &amp;Vertex&#123;6, 6&#125;</span></span><br><span class="line">		p = &amp;v1</span><br><span class="line">	)</span><br><span class="line"></span><br><span class="line">	fmt.Println(v1, v2, v3, p.X) <span class="comment">// &#123;1 2&#125; &#123;3 0&#125; &#123;0 6&#125; 1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="ä¸ƒ-ğŸ”ºæ•°ç»„å’Œåˆ‡ç‰‡">ä¸ƒ. ğŸ”ºæ•°ç»„å’Œåˆ‡ç‰‡</h3>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">testArr</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//var strs [2]string // å®šä¹‰ä¸€ä¸ªé•¿åº¦ä¸º2çš„å­—ç¬¦ä¸²æ•°ç»„</span></span><br><span class="line">	strs := [...]<span class="type">string</span>&#123;<span class="string">&quot;hello&quot;</span>, <span class="string">&quot;world&quot;</span>&#125; <span class="comment">//[...]è¿™ä¸ªè¯­æ³•è¡¨ç¤ºä¸€ä¸ªæ•°ç»„çš„é•¿åº¦å¯ä»¥ä½¿ç”¨ ... è®©ç¼–è¯‘å™¨è®¡ç®—æ•°ç»„çš„é•¿åº¦ï¼ŒåŸºäºæä¾›çš„åˆå§‹åŒ–å€¼çš„æ•°é‡</span></span><br><span class="line">	strs[<span class="number">0</span>] = <span class="string">&quot;hello&quot;</span></span><br><span class="line">	strs[<span class="number">1</span>] = <span class="string">&quot;world&quot;</span></span><br><span class="line">	fmt.Println(strs[<span class="number">0</span>], strs[<span class="number">1</span>])</span><br><span class="line">	fmt.Println(<span class="built_in">len</span>(strs)) <span class="comment">// 2</span></span><br><span class="line"></span><br><span class="line">	params := [<span class="number">6</span>]<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;</span><br><span class="line">	fmt.Println(params) <span class="comment">// [1 2 3 4 5 0] æœ€åé»˜è®¤å€¼ä¸º0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	testArr()</span><br><span class="line">	<span class="comment">// åˆ‡ç‰‡</span></span><br><span class="line">	primes := [<span class="number">6</span>]<span class="type">int</span>&#123;<span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">11</span>, <span class="number">13</span>&#125;</span><br><span class="line">	fmt.Println(primes[<span class="number">0</span>:<span class="number">6</span>])<span class="comment">// [2 3 5 7 11 13]</span></span><br><span class="line">	fmt.Println(<span class="string">&quot;------------------------------------&quot;</span>)</span><br><span class="line">	names := [<span class="number">4</span>]<span class="type">string</span>&#123;</span><br><span class="line">		<span class="string">&quot;John&quot;</span>,</span><br><span class="line">		<span class="string">&quot;Paul&quot;</span>,</span><br><span class="line">		<span class="string">&quot;George&quot;</span>,</span><br><span class="line">		<span class="string">&quot;Ringo&quot;</span>,</span><br><span class="line">	&#125;</span><br><span class="line">	a := names[<span class="number">0</span>:<span class="number">2</span>] <span class="comment">// [John Paul]</span></span><br><span class="line">	b := names[<span class="number">1</span>:<span class="number">3</span>]<span class="comment">// [Paul George]</span></span><br><span class="line">	fmt.Println(a, b)<span class="comment">// [John Paul] [Paul George]</span></span><br><span class="line">	b[<span class="number">0</span>] = <span class="string">&quot;JOJO&quot;</span> <span class="comment">// åˆ‡ç‰‡çš„å…ƒç´ æ˜¯å¯ä»¥ä¿®æ”¹çš„</span></span><br><span class="line">	fmt.Println(a, b)<span class="comment">// [JOJO Paul] [JOJO George]</span></span><br><span class="line">	fmt.Println(<span class="string">&quot;------------------------------------&quot;</span>)</span><br><span class="line">	q := []<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;</span><br><span class="line">	fmt.Println(q, <span class="built_in">len</span>(q))<span class="comment">// [1 2 3 4 5] 5</span></span><br><span class="line"></span><br><span class="line">	r := []<span class="type">bool</span>&#123;<span class="literal">true</span>, <span class="literal">false</span>, <span class="literal">true</span>, <span class="literal">true</span>, <span class="literal">false</span>, <span class="literal">true</span>&#125;</span><br><span class="line">	fmt.Println(r)<span class="comment">// [true false true true false true]</span></span><br><span class="line">	fmt.Println(<span class="string">&quot;------------------------------------&quot;</span>)</span><br><span class="line"></span><br><span class="line">	<span class="comment">// ç»“æ„ä½“åˆ‡ç‰‡</span></span><br><span class="line">	s := []<span class="keyword">struct</span> &#123;</span><br><span class="line">		i <span class="type">int</span></span><br><span class="line">		b <span class="type">bool</span></span><br><span class="line">	&#125;&#123;</span><br><span class="line">		&#123;<span class="number">1</span>, <span class="literal">true</span>&#125;,</span><br><span class="line">		&#123;<span class="number">2</span>, <span class="literal">false</span>&#125;,</span><br><span class="line">		&#123;<span class="number">3</span>, <span class="literal">true</span>&#125;,</span><br><span class="line">		&#123;<span class="number">4</span>, <span class="literal">true</span>&#125;,</span><br><span class="line">		&#123;<span class="number">5</span>, <span class="literal">false</span>&#125;,</span><br><span class="line">		&#123;<span class="number">6</span>, <span class="literal">true</span>&#125;,</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	fmt.Println(s)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="å…«-åˆ‡ç‰‡å’Œåˆ‡ç‰‡æ•°ç»„çš„ä½¿ç”¨ï¼ˆmakeï¼‰">å…«. åˆ‡ç‰‡å’Œåˆ‡ç‰‡æ•°ç»„çš„ä½¿ç”¨ï¼ˆmakeï¼‰</h3>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;strings&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	s := []<span class="type">int</span>&#123;<span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">11</span>, <span class="number">13</span>, <span class="number">17</span>, <span class="number">19</span>&#125;</span><br><span class="line">	printSlice(s) <span class="comment">// [2 3 5 7 11 13 17 19]</span></span><br><span class="line"></span><br><span class="line">	s = s[:<span class="number">0</span>]     <span class="comment">// é•¿åº¦ä¸ºé›¶</span></span><br><span class="line">	printSlice(s) <span class="comment">// []</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">// æ‰©å±•é•¿åº¦</span></span><br><span class="line">	s = s[<span class="number">0</span>:<span class="number">4</span>]</span><br><span class="line">	printSlice(s) <span class="comment">// [2 3 5 7]</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">// èˆå¼ƒå‰ä¸¤ä¸ªå€¼</span></span><br><span class="line">	s = s[<span class="number">2</span>:]</span><br><span class="line">	printSlice(s) <span class="comment">// [5 7 11 13 17 19]</span></span><br><span class="line"></span><br><span class="line">	fmt.Println(<span class="string">&quot;-------------------&quot;</span>)</span><br><span class="line">	arr := []<span class="type">int</span>&#123;<span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">11</span>, <span class="number">13</span>, <span class="number">17</span>, <span class="number">19</span>&#125;</span><br><span class="line"></span><br><span class="line">	fmt.Println(<span class="built_in">len</span>(arr), <span class="built_in">cap</span>(arr)) <span class="comment">// 8 8</span></span><br><span class="line">	fmt.Println(<span class="string">&quot;-------------------------------------------------&quot;</span>)</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> i []<span class="type">int</span></span><br><span class="line">	fmt.Println(<span class="built_in">len</span>(i), <span class="built_in">cap</span>(i), i) <span class="comment">// 0 0 []</span></span><br><span class="line">	<span class="keyword">if</span> i == <span class="literal">nil</span> &#123;</span><br><span class="line">		fmt.Println(<span class="string">&quot;i is nil&quot;</span>)</span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(<span class="string">&quot;----------------------make---------------------------&quot;</span>)</span><br><span class="line"></span><br><span class="line">	<span class="comment">// makeå‡½æ•°è¿”å›ä¸€ä¸ªæŒ‡å®šé•¿åº¦çš„åˆ‡ç‰‡ï¼Œå¹¶ç”¨é›¶å€¼å¡«å……ã€‚ makeåˆå§‹åŒ–åˆ‡ç‰‡</span></span><br><span class="line">	a := <span class="built_in">make</span>([]<span class="type">int</span>, <span class="number">5</span>) <span class="comment">// len(a) == 5, cap(a) == 5</span></span><br><span class="line">	<span class="built_in">print</span>(<span class="string">&quot;a:&quot;</span>, a)      <span class="comment">// a: [0 0 0 0 0]</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">// ç¬¬äºŒä¸ªå‚æ•°æŒ‡å®šåˆ‡ç‰‡çš„å®¹é‡ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°æŒ‡å®šåˆ‡ç‰‡çš„é•¿åº¦</span></span><br><span class="line">	b := <span class="built_in">make</span>([]<span class="type">int</span>, <span class="number">0</span>, <span class="number">5</span>) <span class="comment">// len(b) == 0, cap(b) == 5</span></span><br><span class="line">	<span class="built_in">print</span>(<span class="string">&quot;b&quot;</span>, b)          <span class="comment">// b []</span></span><br><span class="line"></span><br><span class="line">	c := b[:<span class="number">2</span>]</span><br><span class="line">	<span class="built_in">print</span>(<span class="string">&quot;c&quot;</span>, c) <span class="comment">// c [0 0]</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">// æ–°åˆ‡ç‰‡çš„å®¹é‡ä¼šæ ¹æ®åŸå§‹åˆ‡ç‰‡çš„å®¹é‡å’Œæ–°åˆ‡ç‰‡çš„èµ·å§‹ä½ç½®æ¥è®¡ç®—ã€‚</span></span><br><span class="line">	d := c[<span class="number">2</span>:<span class="number">5</span>]</span><br><span class="line">	<span class="built_in">print</span>(<span class="string">&quot;d&quot;</span>, d)   <span class="comment">// d: []</span></span><br><span class="line">	fmt.Println(<span class="built_in">cap</span>(d))<span class="comment">// 3</span></span><br><span class="line">	ticTacToeGame() </span><br><span class="line"></span><br><span class="line">	<span class="comment">// æ·»åŠ åˆ‡ç‰‡</span></span><br><span class="line">	fmt.Println(<span class="string">&quot;----------------------append---------------------------&quot;</span>)</span><br><span class="line">	addSlice()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">addSlice</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> s []<span class="type">int</span></span><br><span class="line">	printSlice(s)</span><br><span class="line"></span><br><span class="line">	s = <span class="built_in">append</span>(s, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line">	printSlice(s)<span class="comment">// [1 2 3]</span></span><br><span class="line">	s = <span class="built_in">append</span>(s, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>)</span><br><span class="line">	printSlice(s)<span class="comment">// [1 2 3 4 5]</span></span><br><span class="line">	p := &amp;s</span><br><span class="line">	fmt.Println(p)<span class="comment">// &amp;[1 2 3 4 5 6]</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// äº•å­—æ¸¸æˆ</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">ticTacToeGame</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">// äºŒç»´æ•°ç»„</span></span><br><span class="line">	border := [][]<span class="type">string</span>&#123;</span><br><span class="line">		&#123;<span class="string">&quot;_&quot;</span>, <span class="string">&quot;_&quot;</span>, <span class="string">&quot;_&quot;</span>&#125;,</span><br><span class="line">		&#123;<span class="string">&quot;_&quot;</span>, <span class="string">&quot;_&quot;</span>, <span class="string">&quot;_&quot;</span>&#125;,</span><br><span class="line">		&#123;<span class="string">&quot;_&quot;</span>, <span class="string">&quot;_&quot;</span>, <span class="string">&quot;_&quot;</span>&#125;,</span><br><span class="line">	&#125;</span><br><span class="line">	border[<span class="number">0</span>][<span class="number">0</span>] = <span class="string">&quot;X&quot;</span></span><br><span class="line">	border[<span class="number">0</span>][<span class="number">2</span>] = <span class="string">&quot;O&quot;</span></span><br><span class="line">	border[<span class="number">2</span>][<span class="number">2</span>] = <span class="string">&quot;X&quot;</span></span><br><span class="line">	border[<span class="number">1</span>][<span class="number">1</span>] = <span class="string">&quot;O&quot;</span></span><br><span class="line">	fmt.Printf(<span class="string">&quot;%s\n&quot;</span>, border[<span class="number">0</span>])</span><br><span class="line">	fmt.Printf(<span class="string">&quot;%s\n&quot;</span>, border[<span class="number">1</span>])</span><br><span class="line">	fmt.Printf(<span class="string">&quot;%s\n&quot;</span>, border[<span class="number">2</span>])</span><br><span class="line"></span><br><span class="line">	fmt.Println(<span class="string">&quot;-------------------------------------------&quot;</span>)</span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(border); i++ &#123;</span><br><span class="line">		fmt.Printf(<span class="string">&quot;%s\n&quot;</span>, strings.Join(border[i], <span class="string">&quot; &quot;</span>))<span class="comment">// X_O_X</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">printSlice</span><span class="params">(s []<span class="type">int</span>)</span></span> &#123;</span><br><span class="line">	fmt.Printf(<span class="string">&quot;s len=%d cap=%d %v\n&quot;</span>, <span class="built_in">len</span>(s), <span class="built_in">cap</span>(s), s) <span class="comment">// %v æ‰“å°æ•°ç»„ cap(s)è¡¨ç¤ºå®¹é‡</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">print</span><span class="params">(s <span class="type">string</span>, x []<span class="type">int</span>)</span></span> &#123;</span><br><span class="line">	fmt.Printf(<span class="string">&quot;%s len=%d cap=%d %v\n&quot;</span>, s, <span class="built_in">len</span>(x), <span class="built_in">cap</span>(x), x)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="ä¹-rangeåˆ‡ç‰‡çš„éå†">ä¹.<code>range</code>åˆ‡ç‰‡çš„éå†</h3>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	range1()</span><br><span class="line">	range2()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">range2</span><span class="params">()</span></span> &#123;</span><br><span class="line">	pow := <span class="built_in">make</span>([]<span class="type">int</span>, <span class="number">11</span>)<span class="comment">// å£°æ˜åˆ‡ç‰‡ pow é•¿åº¦ä¸º11</span></span><br><span class="line">	<span class="keyword">for</span> i := <span class="keyword">range</span> pow &#123;<span class="comment">// éå†åˆ‡ç‰‡i:ç´¢å¼•</span></span><br><span class="line">		pow[i] = <span class="number">1</span> &lt;&lt; <span class="type">uint</span>(i) <span class="comment">//1* 2**i å·¦ç§»ä½è¿ç®—</span></span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(pow)</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> _, v := <span class="keyword">range</span> pow &#123; <span class="comment">// éå†åˆ‡ç‰‡v:å€¼</span></span><br><span class="line">		fmt.Print(v, <span class="string">&quot; &quot;</span>) <span class="comment">// æ‰“å°åˆ‡ç‰‡å€¼ 1 2 4 8 16 32 64 128...</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">range1</span><span class="params">()</span></span> &#123;</span><br><span class="line">	pow := []<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">8</span>, <span class="number">16</span>, <span class="number">32</span>, <span class="number">64</span>, <span class="number">128</span>&#125;</span><br><span class="line">	<span class="keyword">for</span> i, v := <span class="keyword">range</span> pow &#123; <span class="comment">// éå†åˆ‡ç‰‡i:ç´¢å¼• v:å€¼</span></span><br><span class="line">		fmt.Printf(<span class="string">&quot;2**%d=%d\n&quot;</span>, i, v) <span class="comment">// æ‰“å°ç´¢å¼•å’Œå€¼ 2**0=1 2**1=2 2**2=4 2**3=8 2**4=16 2**5=32 2**6=64 2**7=128</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="å-è‡ªå®šä¹‰æ•°å€¼ç”ŸæˆäºŒç»´æ•°ç»„">å. è‡ªå®šä¹‰æ•°å€¼ç”ŸæˆäºŒç»´æ•°ç»„</h3>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;math&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ‡ç‰‡ äºŒç»´æ•°ç»„</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	fmt.Println(pic2(<span class="number">3</span>, <span class="number">4</span>))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">pic2</span><span class="params">(dy, dx <span class="type">int</span>)</span></span> [][]<span class="type">uint8</span> &#123;</span><br><span class="line">	<span class="comment">// åˆ›å»ºä¸€ä¸ªäºŒç»´æ•°ç»„ å®¹é‡ä¸ºdy</span></span><br><span class="line">	result := <span class="built_in">make</span>([][]<span class="type">uint8</span>, dy)</span><br><span class="line">	<span class="comment">// éå†äºŒç»´æ•°ç»„</span></span><br><span class="line">	<span class="keyword">for</span> x := <span class="number">0</span>; x &lt; dy; x++ &#123;</span><br><span class="line">		result[x] = <span class="built_in">make</span>([]<span class="type">uint8</span>, dx)</span><br><span class="line">		<span class="keyword">for</span> y := <span class="number">0</span>; y &lt; dx; y++ &#123;</span><br><span class="line">			result[x][y] = <span class="type">uint8</span>(math.Pow(<span class="type">float64</span>(x), <span class="type">float64</span>(y)))</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> result</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="åä¸€-ğŸ”ºæ˜ å°„">åä¸€. ğŸ”ºæ˜ å°„</h3>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;strings&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ˜ å°„</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">// åˆ›å»ºå’Œåˆå§‹åŒ–æ˜ å°„</span></span><br><span class="line">	<span class="comment">//colors := map[string]string&#123;&#125;</span></span><br><span class="line">	<span class="comment">// åˆ›å»ºæ˜ å°„</span></span><br><span class="line">	<span class="keyword">var</span> colors <span class="keyword">map</span>[<span class="type">string</span>]<span class="type">string</span> <span class="comment">// keyç±»å‹ä¸ºstringï¼Œvalueç±»å‹ä¸ºstring</span></span><br><span class="line">	fmt.Println(colors == <span class="literal">nil</span>)   <span class="comment">// true</span></span><br><span class="line">	<span class="comment">// åˆå§‹åŒ–æ˜ å°„åæ‰å¯ä½¿ç”¨</span></span><br><span class="line">	colors = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">string</span>]<span class="type">string</span>)</span><br><span class="line">	fmt.Println(colors == <span class="literal">nil</span>) <span class="comment">// false</span></span><br><span class="line">	<span class="comment">// ç»™æ˜ å°„èµ‹å€¼</span></span><br><span class="line">	colors[<span class="string">&quot;red&quot;</span>] = <span class="string">&quot;#ff0000&quot;</span></span><br><span class="line">	colors[<span class="string">&quot;green&quot;</span>] = <span class="string">&quot;#00ff00&quot;</span></span><br><span class="line">	colors[<span class="string">&quot;blue&quot;</span>] = <span class="string">&quot;#0000ff&quot;</span></span><br><span class="line">	fmt.Println(colors)</span><br><span class="line">	<span class="keyword">for</span> i, v := <span class="keyword">range</span> colors &#123;<span class="comment">//éå†æ˜ å°„</span></span><br><span class="line">		fmt.Println(i, v)<span class="comment">//iä¸ºkeyï¼Œvä¸ºvalue</span></span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(<span class="string">&quot;--------------------first end----------------------------------&quot;</span>)</span><br><span class="line"></span><br><span class="line">	fruits := <span class="keyword">map</span>[<span class="type">string</span>]<span class="type">int</span>&#123;<span class="comment">//åˆ›å»ºæ˜ å°„ keyä¸ºstringï¼Œvalueä¸ºintç±»å‹</span></span><br><span class="line">		<span class="string">&quot;apple&quot;</span>:  <span class="number">5</span>,</span><br><span class="line">		<span class="string">&quot;pear&quot;</span>:   <span class="number">3</span>,</span><br><span class="line">		<span class="string">&quot;banana&quot;</span>: <span class="number">2</span>,</span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(<span class="built_in">len</span>(fruits)) <span class="comment">// 3</span></span><br><span class="line">	fmt.Println(<span class="string">&quot;the number of bananas are&quot;</span>, fruits[<span class="string">&quot;banana&quot;</span>])<span class="comment">// 2</span></span><br><span class="line">	<span class="comment">// åˆ é™¤ key</span></span><br><span class="line">	<span class="built_in">delete</span>(fruits, <span class="string">&quot;apple&quot;</span>)</span><br><span class="line">	fmt.Println(fruits)<span class="comment">//&#123;&quot;pear&quot;:3,&quot;banana&quot;:2&#125;</span></span><br><span class="line">	fmt.Println(<span class="string">&quot;--------------------second end----------------------------------&quot;</span>)</span><br><span class="line"></span><br><span class="line">	<span class="comment">// åˆ¤æ–­keyæ˜¯å¦å­˜åœ¨</span></span><br><span class="line">	m := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">string</span>]<span class="type">int</span>)<span class="comment">//åˆ›å»ºæ˜ å°„</span></span><br><span class="line">	fmt.Println(m == <span class="literal">nil</span>) <span class="comment">//false</span></span><br><span class="line">	m[<span class="string">&quot;key1&quot;</span>] = <span class="number">1</span></span><br><span class="line">	m[<span class="string">&quot;key2&quot;</span>] = <span class="number">2</span></span><br><span class="line">	fmt.Println(m)<span class="comment">//&#123;&quot;key1&quot;:1,&quot;key2&quot;:2&#125;</span></span><br><span class="line"></span><br><span class="line">	v, ok := m[<span class="string">&quot;key1&quot;</span>]<span class="comment">//è·å–key1çš„å€¼</span></span><br><span class="line">	fmt.Println(v, ok) <span class="comment">// 1, true</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> ok &#123;</span><br><span class="line">		fmt.Println(<span class="string">&quot;key1 exists&quot;</span>, v)</span><br><span class="line">	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		fmt.Println(<span class="string">&quot;key1 not exists&quot;</span>)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	v, ok = m[<span class="string">&quot;key3&quot;</span>]</span><br><span class="line">	<span class="keyword">if</span> ok &#123;</span><br><span class="line">		fmt.Println(<span class="string">&quot;key3 exists&quot;</span>, v)</span><br><span class="line">	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		fmt.Println(<span class="string">&quot;key3 not exists&quot;</span>)</span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(<span class="string">&quot;--------------------third end----------------------------------&quot;</span>)</span><br><span class="line"></span><br><span class="line">	<span class="comment">// ç»“æ„ä½“</span></span><br><span class="line">	<span class="keyword">type</span> Vertex <span class="keyword">struct</span> &#123;</span><br><span class="line">		Lat, Long <span class="type">float64</span> <span class="comment">// ç»çº¬åº¦ éƒ½ä¸ºfloat64ç±»å‹</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">// åˆ›å»ºæ˜ å°„</span></span><br><span class="line">	<span class="comment">//var s map[string]Vertex</span></span><br><span class="line">	<span class="comment">// åˆå§‹åŒ–æ˜ å°„</span></span><br><span class="line">	s := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">string</span>]Vertex)<span class="comment">// keyä¸ºstringï¼Œvalueä¸ºVertexç±»å‹</span></span><br><span class="line">	fmt.Println(s == <span class="literal">nil</span>) <span class="comment">// false</span></span><br><span class="line">	</span><br><span class="line">	<span class="keyword">var</span> strs []<span class="type">string</span> = strings.Fields(<span class="string">&quot;he sc sd&quot;</span>)<span class="comment">//æŒ‰ç…§ç©ºæ ¼è¿›è¡Œå­—ç¬¦ä¸²åˆ‡å‰² </span></span><br><span class="line">	fmt.Println(strs) <span class="comment">//[he sc sd]</span></span><br><span class="line">	</span><br><span class="line">	s[<span class="string">&quot;Bell Labs&quot;</span>] = Vertex&#123;<span class="number">40.68433</span>, <span class="number">-74.39967</span>&#125;</span><br><span class="line">	s[<span class="string">&quot;Google&quot;</span>] = Vertex&#123;<span class="number">37.42202</span>, <span class="number">-122.08408</span>&#125;</span><br><span class="line">	fmt.Println(s[<span class="string">&quot;Bell Labs&quot;</span>])<span class="comment">//&#123;40.68433 -74.39967&#125;</span></span><br><span class="line">	fmt.Println(s[<span class="string">&quot;Google&quot;</span>])<span class="comment">//&#123;37.42202 -122.08408&#125;</span></span><br><span class="line">	fmt.Println(s) <span class="comment">//map[Bell Labs:&#123;40.68433 -74.39967&#125; Google:&#123;37.42202 -122.08408&#125;]</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="åäºŒ-æ˜ å°„ç»ƒä¹ ">åäºŒ. æ˜ å°„ç»ƒä¹ </h3>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;golang.org/x/tour/wc&quot;</span></span><br><span class="line">	<span class="string">&quot;strings&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// WordCount æ˜ å°„ç»ƒä¹  è®¡ç®—å­—ç¬¦ä¸²ä¸­æ¯ä¸ªå•è¯å‡ºç°çš„æ¬¡æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">WordCount</span><span class="params">(s <span class="type">string</span>)</span></span> <span class="keyword">map</span>[<span class="type">string</span>]<span class="type">int</span> &#123;</span><br><span class="line">	strs := strings.Fields(s)</span><br><span class="line">	<span class="comment">// var strs []string = strings.Fields(s)</span></span><br><span class="line">	m := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">string</span>]<span class="type">int</span>) <span class="comment">// å£°æ˜ä¸€ä¸ªç©ºçš„map</span></span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(strs); i++ &#123;</span><br><span class="line">		_, ok := m[strs[i]]</span><br><span class="line">		<span class="keyword">if</span> ok &#123;</span><br><span class="line">			m[strs[i]] += <span class="number">1</span> <span class="comment">// é”®å€¼å¯¹è‡ªå¢</span></span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			m[strs[i]] = <span class="number">1</span> <span class="comment">// é”®å€¼å¯¹èµ‹å€¼</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> m</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	wc.Test(WordCount)</span><br><span class="line">	<span class="comment">// æµ‹è¯•ç»“æœå¦‚ä¸‹ï¼š</span></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">	PASS</span></span><br><span class="line"><span class="comment">	 f(&quot;I am learning Go!&quot;) =</span></span><br><span class="line"><span class="comment">	  map[string]int&#123;&quot;Go!&quot;:1, &quot;I&quot;:1, &quot;am&quot;:1, &quot;learning&quot;:1&#125;</span></span><br><span class="line"><span class="comment">	PASS</span></span><br><span class="line"><span class="comment">	 f(&quot;The quick brown fox jumped over the lazy dog.&quot;) =</span></span><br><span class="line"><span class="comment">	  map[string]int&#123;&quot;The&quot;:1, &quot;brown&quot;:1, &quot;dog.&quot;:1, &quot;fox&quot;:1, &quot;jumped&quot;:1, &quot;lazy&quot;:1, &quot;over&quot;:1, &quot;quick&quot;:1, &quot;the&quot;:1&#125;</span></span><br><span class="line"><span class="comment">	PASS</span></span><br><span class="line"><span class="comment">	 f(&quot;I ate a donut. Then I ate another donut.&quot;) =</span></span><br><span class="line"><span class="comment">	  map[string]int&#123;&quot;I&quot;:2, &quot;Then&quot;:1, &quot;a&quot;:1, &quot;another&quot;:1, &quot;ate&quot;:2, &quot;donut.&quot;:2&#125;</span></span><br><span class="line"><span class="comment">	PASS</span></span><br><span class="line"><span class="comment">	 f(&quot;A man a plan a canal panama.&quot;) =</span></span><br><span class="line"><span class="comment">	  map[string]int&#123;&quot;A&quot;:1, &quot;a&quot;:2, &quot;canal&quot;:1, &quot;man&quot;:1, &quot;panama.&quot;:1, &quot;plan&quot;:1&#125;</span></span><br><span class="line"><span class="comment">	*/</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="åä¸‰-å‡½æ•°ä¹Ÿå¯å½“ä½œå€¼ä¼ é€’">åä¸‰. å‡½æ•°ä¹Ÿå¯å½“ä½œå€¼ä¼ é€’</h3>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;math&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å‡½æ•°ä¹Ÿå¯å½“ä½œå€¼ä¼ é€’ fn:å‚æ•° ç±»å‹ï¼šfunc(float64, float64) float64 è¿”å›å€¼ï¼šfloat64</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">compute</span><span class="params">(fn <span class="keyword">func</span>(<span class="type">float64</span>, <span class="type">float64</span>)</span></span> <span class="type">float64</span>) <span class="type">float64</span> &#123;</span><br><span class="line">	<span class="keyword">return</span> fn(<span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">// è‡ªå®šä¹‰å‡½æ•°è®¡ç®—å¹³æ–¹æ ¹ åŸç‚¹åˆ°ç‚¹ï¼ˆx,yï¼‰çš„è·ç¦»</span></span><br><span class="line">	hyp := <span class="function"><span class="keyword">func</span><span class="params">(x, y <span class="type">float64</span>)</span></span> <span class="type">float64</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> math.Sqrt(x*x + y*y)</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">// è°ƒç”¨å‡½æ•° å‚æ•°ä¸ºhyp</span></span><br><span class="line">	fmt.Println(compute(hyp)) <span class="comment">// 5</span></span><br><span class="line"></span><br><span class="line">	fmt.Println(hyp(<span class="number">6</span>, <span class="number">8</span>)) <span class="comment">// 10</span></span><br><span class="line"></span><br><span class="line">	fmt.Println(compute(math.Pow)) <span class="comment">// 81</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="åå››-ğŸ”ºå‡½æ•°é—­åŒ…">åå››. ğŸ”ºå‡½æ•°é—­åŒ…</h3>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å‡½æ•°é—­åŒ…  ä¹Ÿå°±æ˜¯è¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œå†…éƒ¨å‡½æ•°æ§åˆ¶å¤–éƒ¨å‡½æ•°çš„å˜é‡ ä½¿å…¶å¯ä»¥åœ¨å…¶ä»–åœ°æ–¹ä¿®æ”¹æ­¤å‡½æ•°çš„ç§æœ‰å˜é‡</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">new</span><span class="params">()</span></span> <span class="function"><span class="keyword">func</span><span class="params">(<span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">	sum := <span class="number">0</span>                 <span class="comment">// å®šä¹‰ä¸€ä¸ªå˜é‡</span></span><br><span class="line">	<span class="keyword">return</span> <span class="function"><span class="keyword">func</span><span class="params">(x <span class="type">int</span>)</span></span> <span class="type">int</span> &#123; <span class="comment">// å®šä¹‰ä¸€ä¸ªè¿”å›å‡½æ•°</span></span><br><span class="line">		sum += x</span><br><span class="line">		<span class="keyword">return</span> sum <span class="comment">// è¿”å›sum</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">// è¿”å›ä¸€ä¸ªé—­åŒ…å‡½æ•°</span></span><br><span class="line">	newer := <span class="built_in">new</span>() <span class="comment">// èµ‹å€¼ç»™æ–°å˜é‡</span></span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">5</span>; i++ &#123;</span><br><span class="line">		fmt.Print(newer(i), <span class="string">&quot; &quot;</span>) <span class="comment">// è°ƒç”¨è¿”å›çš„å‡½æ•°æ§åˆ¶å‡½æ•°å†…éƒ¨å˜é‡sum</span></span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="åäº”-æ–æ³¢é‚£å¥‘æ•°é—­åŒ…ç»ƒä¹ ">åäº”. æ–æ³¢é‚£å¥‘æ•°é—­åŒ…ç»ƒä¹ </h3>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ–æ³¢é‚£å¥‘æ•° å®ç°é—­åŒ…ç»ƒä¹  0, 1, 1, 2, 3, 5, ...</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">fibonacci</span><span class="params">()</span></span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> <span class="type">int</span> &#123;</span><br><span class="line">	a, b := <span class="number">0</span>, <span class="number">1</span> <span class="comment">//åˆå§‹åŒ–å‰ä¸¤ä¸ªå€¼ åä¸€ä¸ªå€¼æ˜¯å‰ä¸¤ä¸ªå€¼çš„å’Œ</span></span><br><span class="line">	<span class="keyword">return</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> <span class="type">int</span> &#123;</span><br><span class="line">		result := a</span><br><span class="line">		a, b = b, a+b</span><br><span class="line">		<span class="keyword">return</span> result</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	f := fibonacci() <span class="comment">// è¿”å›å‡½æ•°</span></span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">30</span>; i++ &#123;</span><br><span class="line">		<span class="comment">// è°ƒç”¨å‡½æ•°</span></span><br><span class="line">		fmt.Print(f(), <span class="string">&quot; &quot;</span>) <span class="comment">//è¾“å‡ºæ–æ³¢é‚£å¥‘æ•° 0 1 1 2 3 5 8 13 21 34 55 89 144 233 377 610 987 1597 2584 4181 6765 10946 17711 28657 46368 75025 121393 196418 317811 514229</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="åå…­-ğŸ”ºæ–¹æ³•">åå…­. ğŸ”ºæ–¹æ³•</h3>
<p><strong>æ–¹æ³•çš„å®šä¹‰ç±»ä¼¼äºå‡½æ•°ï¼Œä½†åœ¨æ–¹æ³•åä¹‹å‰æœ‰ä¸€ä¸ªé¢å¤–çš„å‚æ•°ï¼ˆæ¥æ”¶è€…ï¼‰ï¼Œå®ƒå®šä¹‰äº†è¿™ä¸ªæ–¹æ³•å¯ä»¥è¢«å“ªä¸ªç±»å‹çš„å®ä¾‹è°ƒç”¨ã€‚</strong></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;math&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// Abs æ–¹æ³• æ–¹æ³•çš„å®šä¹‰ç±»ä¼¼äºå‡½æ•°ï¼Œä½†åœ¨æ–¹æ³•åä¹‹å‰æœ‰ä¸€ä¸ªé¢å¤–çš„å‚æ•°ï¼ˆæ¥æ”¶è€…ï¼‰ï¼Œå®ƒå®šä¹‰äº†è¿™ä¸ªæ–¹æ³•å¯ä»¥è¢«å“ªä¸ªç±»å‹çš„å®ä¾‹è°ƒç”¨ã€‚</span></span><br><span class="line"><span class="comment">// è®°ä½ï¼šæ–¹æ³•åªæ˜¯ä¸ªå¸¦æ¥æ”¶è€…å‚æ•°çš„å‡½æ•°</span></span><br><span class="line"><span class="comment">// Abs å®šä¹‰æ–¹æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(v Vertex2)</span></span> Abs() <span class="type">float64</span> &#123;</span><br><span class="line">	<span class="keyword">return</span> math.Sqrt(v.X*v.X + v.Y*v.Y) <span class="comment">// è°ƒç”¨å†…ç½®å‡½æ•° math.Sqrt</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Vertex2 <span class="keyword">struct</span> &#123;</span><br><span class="line">	X, Y <span class="type">float64</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">point</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">// ç»ƒä¹ æŒ‡é’ˆ</span></span><br><span class="line">	a := <span class="number">10</span></span><br><span class="line">	b := &amp;a</span><br><span class="line">	*b = <span class="number">10</span> * <span class="number">10</span>   <span class="comment">// 100</span></span><br><span class="line">	fmt.Println(a) <span class="comment">// 100</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Vertex3 <span class="keyword">struct</span> &#123;</span><br><span class="line">	X, Y <span class="type">float64</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(v Vertex3)</span></span> comp() &#123;</span><br><span class="line">	v.X = v.X + <span class="number">1</span></span><br><span class="line">	v.Y = v.Y + <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(v *Vertex3)</span></span> comp2() &#123;</span><br><span class="line">	v.X = v.X + <span class="number">1</span></span><br><span class="line">	v.Y = v.Y + <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// MyFloat è‡ªå®šä¹‰ç±»å‹</span></span><br><span class="line"><span class="keyword">type</span> MyFloat <span class="type">float64</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å®šä¹‰æ–¹æ³• MyFloat.fbs() float64 è¿”å›ä¸€ä¸ª float64 ç±»å‹çš„å€¼</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f MyFloat)</span></span> fbs() <span class="type">float64</span> &#123;</span><br><span class="line">	<span class="keyword">if</span> f &lt; <span class="number">0</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="type">float64</span>(-f)</span><br><span class="line">	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="type">float64</span>(f)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">//point()</span></span><br><span class="line">	v := Vertex2&#123;<span class="number">6</span>, <span class="number">8</span>&#125;</span><br><span class="line">	fmt.Println(v.Abs()) <span class="comment">// 10 è°ƒç”¨æ–¹æ³•</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">// å€¼æ¥æ”¶è€… æœ‰å‰¯æœ¬ åŸå§‹ Vertex å®ä¾‹ä¸ä¼šè¢«ä¿®æ”¹</span></span><br><span class="line">	s := Vertex3&#123;<span class="number">9</span>, <span class="number">10</span>&#125;</span><br><span class="line">	s.comp() </span><br><span class="line">	fmt.Println(s) <span class="comment">// &#123;9 10&#125; ä¸å˜</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">// æŒ‡é’ˆæ¥æ”¶è€…</span></span><br><span class="line">	m := &amp;Vertex3&#123;<span class="number">1</span>, <span class="number">2</span>&#125;</span><br><span class="line">	m.comp2() </span><br><span class="line">	fmt.Println(m) <span class="comment">// 2,3 å€¼å‘ç”Ÿæ”¹å˜</span></span><br><span class="line"></span><br><span class="line">	fmt.Println(<span class="string">&quot;--------------next----------------------&quot;</span>)</span><br><span class="line">	f := MyFloat(-math.Sqrt2) <span class="comment">// æ ¹å·2</span></span><br><span class="line">	fmt.Println(<span class="string">&quot;f:&quot;</span>, f) <span class="comment">// -1.4142135623730951</span></span><br><span class="line">	fmt.Println(f.fbs()) <span class="comment">// ç»å¯¹å€¼ 1.4142135623730951</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="åä¸ƒ-ğŸ”ºæ¥å£">åä¸ƒ. ğŸ”ºæ¥å£</h3>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ¥å£</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">// è°ƒç”¨æ¥å£æ–¹æ³•</span></span><br><span class="line">	s := Square&#123;sideLength: <span class="number">10</span>&#125;</span><br><span class="line">	fmt.Println(s.Area(), s.Perimeter()) <span class="comment">// è¾“å‡º 100 40</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Shape (å½¢çŠ¶) å®šä¹‰é€šç”¨æ¥å£ interface:æ¥å£</span></span><br><span class="line"><span class="keyword">type</span> Shape <span class="keyword">interface</span> &#123;</span><br><span class="line">	Area() <span class="type">float64</span>      <span class="comment">// é¢ç§¯</span></span><br><span class="line">	Perimeter() <span class="type">float64</span> <span class="comment">// å‘¨é•¿</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Square å®šä¹‰ç»“æ„ä½“ç±»å‹</span></span><br><span class="line"><span class="keyword">type</span> Square <span class="keyword">struct</span> &#123; <span class="comment">// æ­£æ–¹å½¢</span></span><br><span class="line">	sideLength <span class="type">float64</span> <span class="comment">// è¾¹é•¿</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Area å®ç°æ¥å£ä¸­çš„æ–¹æ³•Area float64</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s Square)</span></span> Area() <span class="type">float64</span> &#123;</span><br><span class="line">	<span class="keyword">return</span> s.sideLength * s.sideLength</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Perimeter å®ç°æ¥å£ä¸­çš„æ–¹æ³•Perimeter float64</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s Square)</span></span> Perimeter() <span class="type">float64</span> &#123;<span class="comment">// å‘¨è¾¹é•¿</span></span><br><span class="line">	<span class="keyword">return</span> <span class="number">4</span> * s.sideLength</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="åå…«-æ¥å£ç»ƒä¹ ">åå…«. æ¥å£ç»ƒä¹ </h3>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// go-19.goæ¥å£ç»ƒä¹ </span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">// åˆå§‹åŒ–ç»“æ„ä½“</span></span><br><span class="line">	d := Dog&#123;<span class="string">&quot;è±ç¦&quot;</span>, <span class="number">2</span>&#125;</span><br><span class="line">	<span class="comment">// è°ƒç”¨ç»“æ„ä½“çš„æ–¹æ³•</span></span><br><span class="line">	d.eat(<span class="string">&quot;å¤§è‚‰éª¨å¤´&quot;</span>)</span><br><span class="line">	d.run(<span class="string">&quot;100km/h&quot;</span>)</span><br><span class="line">	fmt.Println(<span class="string">&quot;------------------------------------------&quot;</span>)</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// æ¥å£èµ‹å€¼</span></span><br><span class="line">	<span class="keyword">var</span> a animal</span><br><span class="line">	<span class="comment">// èµ‹å€¼ç»“æ„ä½“</span></span><br><span class="line">	a = Dog&#123;<span class="string">&quot;å°èŠ±&quot;</span>, <span class="number">1</span>&#125;</span><br><span class="line">	a.eat(<span class="string">&quot;éª¨å¤´&quot;</span>)</span><br><span class="line">	a.run(<span class="string">&quot;10km/h&quot;</span>)</span><br><span class="line">	</span><br><span class="line">	fmt.Println(<span class="string">&quot;---------------end---------------------------&quot;</span>)</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">var</span> i I = T&#123;<span class="string">&quot;hello world&quot;</span>&#125;</span><br><span class="line">	i.M() <span class="comment">// è°ƒç”¨æ¥å£æ–¹æ³•</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// animalæ¥å£</span></span><br><span class="line"><span class="keyword">type</span> animal <span class="keyword">interface</span> &#123;</span><br><span class="line">	<span class="comment">// å®šä¹‰æ¥å£æ–¹æ³•</span></span><br><span class="line">	eat(s <span class="type">string</span>)</span><br><span class="line">	run(s <span class="type">string</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Dog Dogç»“æ„ä½“</span></span><br><span class="line"><span class="keyword">type</span> Dog <span class="keyword">struct</span> &#123;</span><br><span class="line">	name <span class="type">string</span></span><br><span class="line">	age  <span class="type">int</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Cat Catç»“æ„ä½“</span></span><br><span class="line"><span class="keyword">type</span> Cat <span class="keyword">struct</span> &#123;</span><br><span class="line">	name <span class="type">string</span></span><br><span class="line">	age  <span class="type">int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Dogç»“æ„ä½“çš„eatæ–¹æ³• (d Dog)ä¸ºå‚ä¸è€… å®ç°æ¥å£ä¸­çš„eat(s string)æ–¹æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(d Dog)</span></span> eat(s <span class="type">string</span>) &#123;</span><br><span class="line">	fmt.Printf(<span class="string">&quot;my dog&#x27;name is %v, å¹´é¾„ï¼š%v,å®ƒçˆ±åƒ%v\n&quot;</span>, d.name, d.age, s)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Dogç»“æ„ä½“çš„runæ–¹æ³• (d Dog)ä¸ºå‚ä¸è€… å®ç°æ¥å£ä¸­çš„run(s string)æ–¹æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(d Dog)</span></span> run(s <span class="type">string</span>) &#123;</span><br><span class="line">	fmt.Println(d.name, <span class="string">&quot;è·‘å¾—å¾ˆå¿«ï¼ï¼ï¼æ—¶é€Ÿï¼š&quot;</span>, s)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// I Iæ¥å£</span></span><br><span class="line"><span class="keyword">type</span> I <span class="keyword">interface</span> &#123;</span><br><span class="line">	M()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// T Tç»“æ„ä½“</span></span><br><span class="line"><span class="keyword">type</span> T <span class="keyword">struct</span> &#123;</span><br><span class="line">	S <span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// M Tç»“æ„ä½“çš„Mæ–¹æ³• (t T)ä¸ºå‚ä¸è€… å®ç°æ¥å£Iä¸­çš„M()æ–¹æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(t T)</span></span> M() &#123;</span><br><span class="line">	fmt.Println(t.S)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="åä¹-æ¥å£è¿”å›å€¼å’Œç±»å‹">åä¹. æ¥å£è¿”å›å€¼å’Œç±»å‹</h3>
<p><strong>æ¥å£ä¹Ÿæ˜¯æœ‰è¿”å›å€¼å’Œç±»å‹çš„</strong></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ¥å£ä¹Ÿæ˜¯æœ‰è¿”å›å€¼å’Œç±»å‹çš„</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> m M</span><br><span class="line"></span><br><span class="line">	describe(m) <span class="comment">// type:&lt;nil&gt;    value:&lt;nil&gt;</span></span><br><span class="line"></span><br><span class="line">	m = MyInt(<span class="number">10</span>)</span><br><span class="line">	describe(m) <span class="comment">// type:main.MyInt    value:10</span></span><br><span class="line"></span><br><span class="line">	fmt.Println(<span class="string">&quot;-------------------------------------------------&quot;</span>)</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> i <span class="keyword">interface</span>&#123;&#125; <span class="comment">// ç©ºæ¥å£ å¯ä»¥å­˜å‚¨ä»»æ„ç±»å‹çš„å€¼</span></span><br><span class="line">	testBlank(i)      <span class="comment">// ç©ºæ¥å£ï¼š ç±»å‹ï¼š&lt;nil&gt; å€¼ï¼š&lt;nil&gt;</span></span><br><span class="line"></span><br><span class="line">	i = <span class="number">66</span></span><br><span class="line">	testBlank(i) <span class="comment">// ç©ºæ¥å£ï¼š ç±»å‹ï¼šint å€¼ï¼š66</span></span><br><span class="line"></span><br><span class="line">	i = <span class="string">&quot;ä½ å¥½~&quot;</span></span><br><span class="line">	testBlank(i) <span class="comment">// ç©ºæ¥å£ï¼š ç±»å‹ï¼šstring å€¼ï¼šä½ å¥½~</span></span><br><span class="line"></span><br><span class="line">	i = <span class="number">420</span>              <span class="comment">// int</span></span><br><span class="line">	v, ok := i.(<span class="type">float64</span>) <span class="comment">// æ–­è¨€false åˆ¤æ–­å˜é‡içš„ç±»å‹æ˜¯å¦ä¸ºfloat64 å¤±è´¥åˆ™ä¸º0</span></span><br><span class="line">	fmt.Println(v, ok)   <span class="comment">// 0 false</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// M æ¥å£</span></span><br><span class="line"><span class="keyword">type</span> M <span class="keyword">interface</span> &#123;</span><br><span class="line">	M() <span class="comment">// æ¥å£æ–¹æ³• æ— è¿”å›å€¼</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// S ç»“æ„ä½“</span></span><br><span class="line"><span class="keyword">type</span> S <span class="keyword">struct</span> &#123;</span><br><span class="line">	s <span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// M æ¥å£æ–¹æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s S)</span></span> M() &#123;</span><br><span class="line">	fmt.Printf(s.s)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// MyInt è‡ªå®šä¹‰ç±»å‹</span></span><br><span class="line"><span class="keyword">type</span> MyInt <span class="type">int</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// M æ¥å£æ–¹æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(i MyInt)</span></span> M() &#123;</span><br><span class="line">	fmt.Println(i)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// describe æ¥å£ä¿¡æ¯</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">describe</span><span class="params">(m M)</span></span> &#123;</span><br><span class="line">	fmt.Printf(<span class="string">&quot;type:%T    value:%v\n&quot;</span>, m, m)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç©ºæ¥å£å¯ä»¥å­˜å‚¨ä»»æ„ç±»å‹çš„å€¼</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">testBlank</span><span class="params">(i <span class="keyword">interface</span>&#123;&#125;)</span></span> &#123;</span><br><span class="line">	fmt.Printf(<span class="string">&quot;ç©ºæ¥å£ï¼š ç±»å‹ï¼š%T å€¼ï¼š%v\n&quot;</span>, i, i)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="äºŒå-æ–­è¨€">äºŒå. æ–­è¨€</h3>
<p><strong>æ–­è¨€é€šå¸¸ç”¨äºåˆ¤æ–­ä¸€ä¸ªæ¥å£ç±»å‹çš„å€¼æ˜¯å¦ä¸ºç‰¹å®šçš„ç±»å‹</strong></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;unsafe&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç±»å‹é€‰æ‹©</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">// ç±»å‹é€‰æ‹© interface&#123;&#125;</span></span><br><span class="line">	<span class="keyword">var</span> i <span class="keyword">interface</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">	i = <span class="number">55</span></span><br><span class="line">	do(i)</span><br><span class="line"></span><br><span class="line">	i = <span class="string">&quot;hello&quot;</span></span><br><span class="line">	do(i)</span><br><span class="line"></span><br><span class="line">	i = <span class="literal">true</span></span><br><span class="line">	do(i)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">do</span><span class="params">(i <span class="keyword">interface</span>&#123;&#125;)</span></span> &#123;</span><br><span class="line">	<span class="keyword">switch</span> v := i.(<span class="keyword">type</span>) &#123; <span class="comment">// æ–­è¨€</span></span><br><span class="line">	<span class="keyword">case</span> <span class="type">int</span>:</span><br><span class="line">		fmt.Println(<span class="string">&quot;my value is&quot;</span>, v)</span><br><span class="line">	<span class="keyword">case</span> <span class="type">string</span>:</span><br><span class="line">		fmt.Println(<span class="string">&quot;my value is&quot;</span>, v)</span><br><span class="line">	<span class="keyword">default</span>:</span><br><span class="line">		n, err := fmt.Printf(<span class="string">&quot;i dont know %T~~~\n&quot;</span>, v)</span><br><span class="line">		fmt.Println(n, err)</span><br><span class="line">		s := <span class="string">&quot;Hello, ä¸–ç•Œ&quot;</span> <span class="comment">// ä¸€ä¸ªä¸­æ–‡å ä¸‰ä¸ªå­—èŠ‚</span></span><br><span class="line">		r := <span class="string">&quot;i dont know bool~~~\n&quot;</span></span><br><span class="line">		fmt.Println(<span class="built_in">len</span>(s), unsafe.Sizeof(s), <span class="built_in">len</span>(r)) <span class="comment">// è¿™å°†è¾“å‡ºå­—ç¬¦ä¸²sçš„å­—èŠ‚é•¿åº¦å’Œå­—ç¬¦ä¸²rçš„å­—èŠ‚é•¿åº¦ 13 16 20 	 </span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="äºŒåä¸€-stringerä½¿ç”¨ï¼Œè‡ªå®šä¹‰æ‰“å°è¾“å‡º">äºŒåä¸€. stringerä½¿ç”¨ï¼Œè‡ªå®šä¹‰æ‰“å°è¾“å‡º</h3>
<p>å†…ç½®æ¥å£ï¼Œè‡ªå®šä¹‰ç±»å‹å®ç°æ­¤æ–¹æ³•å°±å¯è‡ªå®šä¹‰æ‰“å°æ¨¡æ¿</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Stringer <span class="keyword">interface</span> &#123;</span><br><span class="line">    String() <span class="type">string</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// stringerä½¿ç”¨</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">// è‡ªå®šä¹‰ç±»å‹æ‰“å°è¾“å‡ºæ¨¡æ¿</span></span><br><span class="line">    a := People&#123;<span class="string">&quot;å¼ ä¸‰&quot;</span>, <span class="number">18</span>&#125;</span><br><span class="line">    fmt.Println(a) <span class="comment">// (Name:å¼ ä¸‰,Age:18)</span></span><br><span class="line"></span><br><span class="line">    fmt.Println(<span class="string">&quot;----------------Sprintfç”¨æ³•---------------------&quot;</span>)</span><br><span class="line">    <span class="comment">// è½¬æ¢å­—ç¬¦ä¸²</span></span><br><span class="line">    b := <span class="number">66</span></span><br><span class="line">    str := fmt.Sprintf(<span class="string">&quot;number is %d&quot;</span>, b)</span><br><span class="line">    fmt.Println(str) <span class="comment">// number is 66</span></span><br><span class="line"></span><br><span class="line">    ip := IPAddr&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>&#125;</span><br><span class="line">    fmt.Println(ip) <span class="comment">// 1.2.3.4</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> People <span class="keyword">struct</span> &#123;</span><br><span class="line">    Name <span class="type">string</span></span><br><span class="line">    Age  <span class="type">int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®ç°stringæ¥å£æ–¹æ³•String()</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(p People)</span></span> String() <span class="type">string</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> fmt.Sprintf(<span class="string">&quot;(Name:%s,Age:%d)&quot;</span>, p.Name, p.Age)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// IPAddr è‡ªå®šä¹‰ç±»å‹å­—èŠ‚æ•°ç»„</span></span><br><span class="line"><span class="keyword">type</span> IPAddr [<span class="number">4</span>]<span class="type">byte</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å®ç°stringæ¥å£æ–¹æ³•String()</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(ip IPAddr)</span></span> String() <span class="type">string</span> &#123;</span><br><span class="line">    <span class="comment">// å­—èŠ‚æ•°ç»„è½¬æ¢æˆå­—ç¬¦ä¸²</span></span><br><span class="line">    <span class="keyword">return</span> fmt.Sprintf(<span class="string">&quot;%d.%d.%d.%d&quot;</span>, ip[<span class="number">0</span>], ip[<span class="number">1</span>], ip[<span class="number">2</span>], ip[<span class="number">3</span>])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="äºŒåäºŒ-è‡ªå®šä¹‰é”™è¯¯å‡½æ•°">äºŒåäºŒ. è‡ªå®šä¹‰é”™è¯¯å‡½æ•°</h3>
<p>å®ç°erroræ¥å£ä¸­çš„Error()æ–¹æ³•</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="type">error</span> <span class="keyword">interface</span> &#123;</span><br><span class="line">	Error() <span class="type">string</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;strconv&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">// å°è¯•å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•´æ•°</span></span><br><span class="line">    i, err := strconv.Atoi(<span class="string">&quot;42&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ£€æŸ¥æ˜¯å¦æœ‰é”™è¯¯å‘ç”Ÿ</span></span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">       <span class="comment">// å¦‚æœæœ‰é”™è¯¯ï¼Œæ‰“å°é”™è¯¯å¹¶è¿”å›</span></span><br><span class="line">       fmt.Printf(<span class="string">&quot;couldn&#x27;t convert number: %v\n&quot;</span>, err)</span><br><span class="line">       <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¦‚æœæ²¡æœ‰é”™è¯¯ï¼Œæ‰“å°è½¬æ¢åçš„æ•´æ•°</span></span><br><span class="line">    fmt.Println(<span class="string">&quot;Converted integer:&quot;</span>, i)</span><br><span class="line"></span><br><span class="line">    fmt.Println(<span class="string">&quot;-------------------------------------------------&quot;</span>)</span><br><span class="line"></span><br><span class="line">    err2 := doSomething()</span><br><span class="line">    <span class="keyword">if</span> err2 != <span class="literal">nil</span> &#123;</span><br><span class="line">       fmt.Println(err2)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// MyError è‡ªå®šä¹‰è¿”å›é”™è¯¯ç±»å‹</span></span><br><span class="line"><span class="keyword">type</span> MyError <span class="keyword">struct</span> &#123;</span><br><span class="line">    msg  <span class="type">string</span></span><br><span class="line">    code <span class="type">int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç»“æ„ä½“å®ç°erroræ¥å£ä¸­çš„Erroræ–¹æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(m *MyError)</span></span> Error() <span class="type">string</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> fmt.Sprintf(<span class="string">&quot;msg:%s\ncode:%d&quot;</span>, m.msg, m.code)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸€ä¸ªè¿”å›è‡ªå®šä¹‰é”™è¯¯çš„å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">doSomething</span><span class="params">()</span></span> <span class="type">error</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> &amp;MyError&#123;<span class="string">&quot;something wrong&quot;</span>, <span class="number">100</span>&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="äºŒåä¸‰-è‡ªå®šä¹‰é”™è¯¯è¿”å›ç»ƒä¹ ">äºŒåä¸‰. è‡ªå®šä¹‰é”™è¯¯è¿”å›ç»ƒä¹ </h3>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;math&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// Sqrt è‡ªå®šä¹‰è¿”å›sqrté”™è¯¯</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Sqrt</span><span class="params">(x <span class="type">float64</span>)</span></span> (<span class="type">float64</span>, <span class="type">error</span>) &#123;</span><br><span class="line">	<span class="keyword">if</span> x &lt; <span class="number">0</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="number">0</span>, ErrNegativeSqrt(x)</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> math.Sqrt(x), <span class="literal">nil</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	fmt.Println(Sqrt(<span class="number">2</span>))</span><br><span class="line">	fmt.Println(Sqrt(<span class="number">-2</span>))</span><br><span class="line">	fmt.Println(Sqrt(<span class="number">-24</span>))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ErrNegativeSqrt è‡ªå®šä¹‰é”™è¯¯ç±»å‹</span></span><br><span class="line"><span class="keyword">type</span> ErrNegativeSqrt <span class="type">float64</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Error å®ç°erroræ¥å£ä¸­çš„Erroræ–¹æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(e ErrNegativeSqrt)</span></span> Error() <span class="type">string</span> &#123;</span><br><span class="line">	<span class="keyword">return</span> fmt.Sprintf(<span class="string">&quot;cannot Sqrt negative number: %v&quot;</span>, <span class="type">float64</span>(e))</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="äºŒåå››-ğŸ”ºio-Readerè¯»å–å†…å®¹">äºŒåå››.  ğŸ”º<code>io.Reader</code>è¯»å–å†…å®¹</h3>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;golang.org/x/tour/reader&quot;</span></span><br><span class="line">    <span class="string">&quot;io&quot;</span></span><br><span class="line">    <span class="string">&quot;strings&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// io reader</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    r := strings.NewReader(<span class="string">&quot;ä½ å¥½!!!&quot;</span>) <span class="comment">// å­—ç¬¦ä¸²è¯»å–å™¨ è¿”å›ä¸€ä¸ª io.Reader</span></span><br><span class="line">    b := <span class="built_in">make</span>([]<span class="type">byte</span>, <span class="number">6</span>)            <span class="comment">// å­—èŠ‚æ•°ç»„ ä¸€æ¬¡è¯»å– 6 ä¸ªå­—èŠ‚</span></span><br><span class="line">    <span class="keyword">for</span> &#123;                           <span class="comment">// å¾ªç¯è¯»å–</span></span><br><span class="line">       n, err := r.Read(b)             <span class="comment">// è¯»å–åˆ°å­—èŠ‚æ•°ç»„ b ä¸­</span></span><br><span class="line">       fmt.Println(<span class="type">string</span>(b[:n]), err) <span class="comment">// æ‰“å°è¯»å–åˆ°çš„å­—èŠ‚æ•°ç»„ - string() æ˜¯ä¸€ä¸ªå†…ç½®å‡½æ•°ï¼Œå®ƒå°†ç»™å®šçš„å­—èŠ‚åˆ‡ç‰‡è½¬æ¢ä¸ºå¯¹åº”çš„å­—ç¬¦ä¸²ã€‚</span></span><br><span class="line">       <span class="keyword">if</span> err == io.EOF &#123;              <span class="comment">// è¯»å–åˆ° EOFè¡¨ç¤ºè¯»å–ç»“æŸ</span></span><br><span class="line">          <span class="keyword">break</span></span><br><span class="line">       &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Println(<span class="string">&quot;--------------------------------------------------------------&quot;</span>)</span><br><span class="line"></span><br><span class="line">    reader.Validate(MyReader&#123;&#125;) <span class="comment">// éªŒè¯ MyReader æ˜¯å¦å®ç°äº† io.Reader OK</span></span><br><span class="line">    fmt.Println(<span class="string">&quot;--------------------------------------------------------------&quot;</span>)</span><br><span class="line"></span><br><span class="line">    my := MyReader&#123;&#125;</span><br><span class="line">    s := <span class="built_in">make</span>([]<span class="type">byte</span>, <span class="number">10</span>)</span><br><span class="line">    read, err := my.Read(s)</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">       <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Println(read, err, <span class="type">string</span>(s)) <span class="comment">// 1 &lt;nil&gt; AAAAAAAAAAAA</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> MyReader <span class="keyword">struct</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç»™ MyReader æ·»åŠ ä¸€ä¸ª Read([]byte) (int, error) æ–¹æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(r MyReader)</span></span> Read(b []<span class="type">byte</span>) (<span class="type">int</span>, <span class="type">error</span>) &#123;</span><br><span class="line">    <span class="keyword">for</span> i := <span class="keyword">range</span> b &#123;</span><br><span class="line">       b[i] = <span class="string">&#x27;A&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">len</span>(b), <span class="literal">nil</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="äºŒåäº”-rot13ReaderåŠ å¯†ç®—æ³•">äºŒåäº”. rot13ReaderåŠ å¯†ç®—æ³•</h3>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;io&quot;</span></span><br><span class="line">    <span class="string">&quot;os&quot;</span></span><br><span class="line">    <span class="string">&quot;strings&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// rot13Reader</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// rot13Reader ç»“æ„ä½“ å®šä¹‰äº†ä¸€ä¸ªè¿”å›ä¸€ä¸ª io.Readerç±»å‹çš„å‚æ•°</span></span><br><span class="line"><span class="keyword">type</span> rot13Reader <span class="keyword">struct</span> &#123;</span><br><span class="line">    r io.Reader</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Read å®ç°äº† io.Reader æ¥å£</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(r rot13Reader)</span></span> Read(b []<span class="type">byte</span>) (<span class="type">int</span>, <span class="type">error</span>) &#123;</span><br><span class="line">    <span class="comment">// è°ƒç”¨ r.r.Read(b) è¯»å–æ•°æ®</span></span><br><span class="line">    n, err := r.r.Read(b)</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123; <span class="comment">// è¯»å–å‡ºé”™</span></span><br><span class="line">       <span class="keyword">return</span> n, err <span class="comment">// è¿”å›é”™è¯¯ä¿¡æ¯</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; n; i++ &#123; <span class="comment">//n=è¯»å–çš„å­—èŠ‚æ•°</span></span><br><span class="line">       b[i] = rot13(b[i]) <span class="comment">// è°ƒç”¨ rot13 å‡½æ•° åŠ å¯† å˜ä¸ºåé¢ç¬¬13ä¸ªå­—æ¯</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> n, <span class="literal">nil</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    s := strings.NewReader(<span class="string">&quot;Lbh penpxrq gur pbqr!&quot;</span>)</span><br><span class="line">    r := rot13Reader&#123;s&#125;</span><br><span class="line">    io.Copy(os.Stdout, &amp;r) <span class="comment">// You cracked the code!</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// rot13åŠ å¯†ç®—æ³• å‡½æ•° è¿”å›å­—æ¯ b ç»è¿‡ 13 ä½æ—‹è½¬åçš„å€¼</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">rot13</span><span class="params">(b <span class="type">byte</span>)</span></span> <span class="type">byte</span> &#123;</span><br><span class="line">    <span class="keyword">switch</span> &#123;</span><br><span class="line">    <span class="keyword">case</span> b &gt;= <span class="string">&#x27;A&#x27;</span> &amp;&amp; b &lt;= <span class="string">&#x27;Z&#x27;</span>:</span><br><span class="line">       <span class="keyword">return</span> <span class="string">&#x27;A&#x27;</span> + (b-<span class="string">&#x27;A&#x27;</span>+<span class="number">13</span>)%<span class="number">26</span></span><br><span class="line">    <span class="keyword">case</span> b &gt;= <span class="string">&#x27;a&#x27;</span> &amp;&amp; b &lt;= <span class="string">&#x27;z&#x27;</span>:</span><br><span class="line">       <span class="keyword">return</span> <span class="string">&#x27;a&#x27;</span> + (b-<span class="string">&#x27;a&#x27;</span>+<span class="number">13</span>)%<span class="number">26</span></span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">       <span class="keyword">return</span> b</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="äºŒåå…­-Imageæ¥å£">äºŒåå…­. Imageæ¥å£</h3>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;golang.org/x/tour/pic&quot;</span></span><br><span class="line">    <span class="string">&quot;image&quot;</span></span><br><span class="line">    <span class="string">&quot;image/color&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// Imageæ¥å£</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    rgba := image.NewRGBA(image.Rect(<span class="number">0</span>, <span class="number">0</span>, <span class="number">100</span>, <span class="number">100</span>)) <span class="comment">// 100x100çš„RGBAå›¾åƒ</span></span><br><span class="line">    fmt.Println(rgba.Bounds()) <span class="comment">// &#123;0 0 100 100&#125;</span></span><br><span class="line">    fmt.Println(rgba.At(<span class="number">0</span>, <span class="number">0</span>))<span class="comment">// &#123;0 0 0 0&#125;</span></span><br><span class="line">    fmt.Println(<span class="string">&quot;--------------------------------------------&quot;</span>)</span><br><span class="line"></span><br><span class="line">    image := Image&#123;<span class="number">100</span>, <span class="number">100</span>&#125; <span class="comment">// 100x100çš„å›¾åƒ</span></span><br><span class="line">    pic.ShowImage(image)<span class="comment">// æ˜¾ç¤ºå›¾åƒ</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Image <span class="keyword">struct</span> &#123;</span><br><span class="line">    width, height <span class="type">int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Bounds æ–¹æ³•è¿”å›å›¾åƒçš„è¾¹ç•Œ </span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(img Image)</span></span> Bounds() image.Rectangle &#123;</span><br><span class="line">    <span class="keyword">return</span> image.Rect(<span class="number">0</span>, <span class="number">0</span>, img.width, img.height)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ColorModel æ–¹æ³•è¿”å›å›¾åƒçš„é¢œè‰²æ¨¡å‹</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(img Image)</span></span> ColorModel() color.Model &#123;</span><br><span class="line">    <span class="keyword">return</span> color.RGBAModel</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// At æ–¹æ³•è¿”å›å›¾åƒä¸­æŒ‡å®šç‚¹çš„é¢œè‰²</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(img Image)</span></span> At(x, y <span class="type">int</span>) color.Color &#123;</span><br><span class="line">    v := <span class="type">uint8</span>(x + y)</span><br><span class="line">    <span class="keyword">return</span> color.RGBA&#123;R: v, G: v, B: <span class="number">255</span>, A: <span class="number">255</span>&#125; <span class="comment">// è¿”å›ä¸€ä¸ªRGBAé¢œè‰² </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="äºŒåä¸ƒ-ğŸ”ºGOä¿¡é“">äºŒåä¸ƒ. ğŸ”ºGOä¿¡é“</h3>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;time&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">// å¼€å¯ä¸€ä¸ªåç¨‹ï¼Œå¹¶å°†å‚æ•°ä¼ é€’ç»™åç¨‹</span></span><br><span class="line">    <span class="keyword">go</span> say(<span class="string">&quot;hello&quot;</span>)</span><br><span class="line">    say(<span class="string">&quot;world&quot;</span>) <span class="comment">// ä¸»åç¨‹æ‰§è¡Œå®Œæ¯•åï¼Œä¼šç«‹å³æ‰§è¡Œï¼Œä¸ä¼šç­‰å¾…åç¨‹æ‰§è¡Œå®Œæ¯•</span></span><br><span class="line"></span><br><span class="line">    c := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">int</span>)               <span class="comment">// å£°æ˜ä¸€ä¸ªé€šé“ chan int é€šé“ä¸­å­˜æ”¾çš„æ˜¯intç±»å‹çš„æ•°æ®</span></span><br><span class="line">    <span class="keyword">go</span> printNumbers(c)                <span class="comment">// å¼€å¯ä¸€ä¸ªåç¨‹ï¼Œå¹¶å°†cä½œä¸ºå‚æ•°ä¼ é€’ç»™åç¨‹</span></span><br><span class="line">    fmt.Printf(<span class="string">&quot;type:%T, c:%v&quot;</span>, c, c) <span class="comment">//chan int 0xc00005e120</span></span><br><span class="line">    v := &lt;-c                          <span class="comment">// æ¥æ”¶æ•°æ® ä»é€šé“ä¸­è¯»å–æ•°æ®ï¼Œå¹¶èµ‹å€¼ç»™v</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> num := <span class="keyword">range</span> c &#123; <span class="comment">// éå†é€šé“ä¸­çš„æ•°æ®</span></span><br><span class="line">       fmt.Println(<span class="string">&quot;num:&quot;</span>, num)</span><br><span class="line">       fmt.Println(<span class="string">&quot;v:&quot;</span>, v)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">say</span><span class="params">(s <span class="type">string</span>)</span></span> &#123;</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">5</span>; i++ &#123;</span><br><span class="line">       time.Sleep(<span class="number">500</span> * time.Millisecond) <span class="comment">// 500ms ç­‰å¾…æ‰§è¡Œå®Œæ¯•</span></span><br><span class="line">       fmt.Println(<span class="string">&quot;say:&quot;</span>, s)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é€šé“é€šä¿¡</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">printNumbers</span><span class="params">(c <span class="keyword">chan</span> <span class="type">int</span>)</span></span> &#123;</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">5</span>; i++ &#123;</span><br><span class="line">       c &lt;- i <span class="comment">// å‘é€æ•°æ®åˆ°é€šé“</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">close</span>(c) <span class="comment">// å…³é—­é€šé“</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="äºŒåå…«-ä¿¡é“å¹¶å‘è®¡ç®—åˆ‡ç‰‡å’Œ">äºŒåå…«. ä¿¡é“å¹¶å‘è®¡ç®—åˆ‡ç‰‡å’Œ</h3>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨ä¿¡é“è®¡ç®—å’Œ</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    c := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">int</span>)                      <span class="comment">// åˆ›å»ºä¸€ä¸ªä¿¡é“ c</span></span><br><span class="line">    numbers := []<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">-9</span>, <span class="number">-8</span>, <span class="number">-9</span>, <span class="number">8</span>&#125; <span class="comment">// å®šä¹‰ä¸€ä¸ª int ç±»å‹çš„åˆ‡ç‰‡</span></span><br><span class="line">    <span class="keyword">go</span> sum(numbers[:<span class="built_in">len</span>(numbers)/<span class="number">2</span>], c)      <span class="comment">// å¯åŠ¨ä¸€ä¸ªåç¨‹ï¼Œè®¡ç®—åˆ‡ç‰‡çš„å‰ä¸€åŠçš„å’Œ</span></span><br><span class="line">    <span class="keyword">go</span> sum(numbers[<span class="built_in">len</span>(numbers)/<span class="number">2</span>:], c)      <span class="comment">// å¯åŠ¨ä¸€ä¸ªåç¨‹ï¼Œè®¡ç®—åˆ‡ç‰‡çš„åä¸€åŠçš„å’Œ</span></span><br><span class="line">    x, y := &lt;-c, &lt;-c                         <span class="comment">// ä» c ä¸­å–å‡ºä¸¤ä¸ªå€¼ x, y</span></span><br><span class="line">    <span class="built_in">println</span>(x, y, x+y)                       <span class="comment">// æ‰“å° x, y, x+y</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è®¡ç®—åˆ‡ç‰‡çš„å’Œ</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">sum</span><span class="params">(s []<span class="type">int</span>, c <span class="keyword">chan</span> <span class="type">int</span>)</span></span> &#123;</span><br><span class="line">    sum := <span class="number">0</span> <span class="comment">// å®šä¹‰ä¸€ä¸ªå˜é‡ sum</span></span><br><span class="line">    <span class="keyword">for</span> _, v := <span class="keyword">range</span> s &#123;<span class="comment">// éå†åˆ‡ç‰‡ s</span></span><br><span class="line">       sum += v</span><br><span class="line">    &#125;</span><br><span class="line">    c &lt;- sum <span class="comment">// å°†å’Œé€å…¥c ä¿¡é“</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="äºŒåä¹-å¸¦ç¼“å†²çš„é€šé“">äºŒåä¹. å¸¦ç¼“å†²çš„é€šé“</h3>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;time&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¸¦ç¼“å†²çš„é€šé“</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    c := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">int</span>, <span class="number">5</span>) <span class="comment">// ç¼“å†²åŒºå¤§å°ä¸º5</span></span><br><span class="line">    <span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;            <span class="comment">// å¼€å¯ä¸€ä¸ªåç¨‹</span></span><br><span class="line">       <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">10</span>; i++ &#123;</span><br><span class="line">          c &lt;- i</span><br><span class="line">       &#125;</span><br><span class="line">    &#125;() <span class="comment">//()è¡¨ç¤ºç«‹å³è°ƒç”¨åŒ¿åå‡½æ•°</span></span><br><span class="line"></span><br><span class="line">    time.Sleep(<span class="number">2</span> * time.Second) <span class="comment">// ç­‰å¾…2ç§’</span></span><br><span class="line">    fmt.Println(<span class="string">&quot;--&quot;</span>)</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">10</span>; i++ &#123;</span><br><span class="line">       v := &lt;-c <span class="comment">// æ¥æ”¶æ•°æ®</span></span><br><span class="line">       <span class="built_in">println</span>(<span class="string">&quot;Received:&quot;</span>, v)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="ä¸‰å-é€šé“è®¡ç®—æ–æ³¢é‚£å¥‘æ•°åˆ—">ä¸‰å. é€šé“è®¡ç®—æ–æ³¢é‚£å¥‘æ•°åˆ—</h3>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;time&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    c := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">int</span>, <span class="number">10</span>) <span class="comment">// ç¼“å†²åŒºä¸º10</span></span><br><span class="line">    <span class="comment">// å…³é—­é€šé“åï¼Œå†å¾€é€šé“ä¸­å†™å…¥æ•°æ®ï¼Œä¼šå¯¼è‡´panicå¼‚å¸¸</span></span><br><span class="line">    <span class="keyword">go</span> fibonacci(<span class="built_in">cap</span>(c), c) <span class="comment">// å¼€å¯ä¸€ä¸ªåç¨‹ï¼Œè®¡ç®—æ–æ³¢é‚£å¥‘æ•°åˆ—</span></span><br><span class="line"></span><br><span class="line">    fmt.Println(<span class="string">&quot;-----------------&quot;</span>)</span><br><span class="line">    <span class="keyword">for</span> i := <span class="keyword">range</span> c &#123; <span class="comment">// éå†é€šé“</span></span><br><span class="line">       fmt.Println(i, <span class="string">&quot; &quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¡ç®—æ–æ³¢é‚£å¥‘æ•°åˆ— nä¸ºé€šé“çš„å®¹é‡</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">fibonacci</span><span class="params">(n <span class="type">int</span>, c <span class="keyword">chan</span> <span class="type">int</span>)</span></span> &#123;</span><br><span class="line">    time.Sleep(<span class="number">5</span> * time.Second)</span><br><span class="line">    fmt.Println(<span class="string">&quot;5s stop&quot;</span>)</span><br><span class="line">    x, y := <span class="number">0</span>, <span class="number">1</span>             <span class="comment">// åˆå§‹åŒ–æ–æ³¢é‚£å¥‘æ•°åˆ—çš„åˆå§‹å€¼</span></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; n; i++ &#123; <span class="comment">// å¾ªç¯næ¬¡ï¼Œæ¯æ¬¡ä»é€šé“ä¸­è¯»å–ä¸€ä¸ªæ•°</span></span><br><span class="line">       c &lt;- x        <span class="comment">// å°†è®¡ç®—ç»“æœå†™å…¥é€šé“</span></span><br><span class="line">       x, y = y, x+y <span class="comment">// è®¡ç®—ä¸‹ä¸€ä¸ªæ–æ³¢é‚£å¥‘æ•°åˆ—çš„å€¼</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">close</span>(c) <span class="comment">// å…³é—­é€šé“</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="ä¸‰åä¸€-selecté€‰æ‹©é€šé“">ä¸‰åä¸€. <code>select</code>é€‰æ‹©é€šé“</h3>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// select ç­‰å¾…å¤šä¸ªé€šé“çš„æ“ä½œ</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    channel1 := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">int</span>, <span class="number">10</span>) <span class="comment">// ç¼“å†²åŒºä¸º10</span></span><br><span class="line">    channel2 := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">int</span>, <span class="number">10</span>)</span><br><span class="line">    channel3 := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">int</span>, <span class="number">10</span>)</span><br><span class="line">    channel1 &lt;- <span class="number">111</span> <span class="comment">// å‘ç¼“å†²åŒºä¸­å†™å…¥æ•°æ®</span></span><br><span class="line">    channel2 &lt;- <span class="number">222</span> <span class="comment">// å‘ç¼“å†²åŒºä¸­å†™å…¥æ•°æ®</span></span><br><span class="line">    <span class="comment">//close(channel1) // å…³é—­é€šé“</span></span><br><span class="line">    <span class="comment">//close(channel2) // å…³é—­é€šé“</span></span><br><span class="line">    msg3 := <span class="number">999</span></span><br><span class="line">    <span class="comment">/* go func() &#123;</span></span><br><span class="line"><span class="comment">       for i := 0; i &lt; 10; i++ &#123;</span></span><br><span class="line"><span class="comment">          channel1 &lt;- i</span></span><br><span class="line"><span class="comment">          channel2 &lt;- -i</span></span><br><span class="line"><span class="comment">       &#125;</span></span><br><span class="line"><span class="comment">       close(channel1)</span></span><br><span class="line"><span class="comment">       close(channel2)</span></span><br><span class="line"><span class="comment">    &#125;()*/</span></span><br><span class="line">    <span class="comment">//for c1 := range channel1 &#123;</span></span><br><span class="line">    <span class="comment">// fmt.Println(c1, &quot;  &quot;)</span></span><br><span class="line">    <span class="comment">//&#125;</span></span><br><span class="line">    <span class="comment">//for c2 := range channel2 &#123;</span></span><br><span class="line">    <span class="comment">// fmt.Print(c2, &quot; &quot;)</span></span><br><span class="line">    <span class="comment">//&#125;</span></span><br><span class="line"></span><br><span class="line">    fmt.Println(<span class="string">&quot;--------select---------&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//time.Sleep(2 * time.Second)</span></span><br><span class="line">    <span class="keyword">for</span> &#123;</span><br><span class="line">       <span class="keyword">select</span> &#123; <span class="comment">// é€‰æ‹©ä¸€ä¸ªå¯ç”¨çš„é€šé“è¿›è¡Œæ¥æ”¶æ“ä½œ</span></span><br><span class="line">       <span class="comment">// å¸ƒå°”å€¼ ok ä¸º true è¡¨ç¤ºæˆåŠŸä»é€šé“æ¥æ”¶åˆ°æ•°æ®ï¼Œè€Œ false åˆ™è¡¨ç¤ºé€šé“å·²è¢«å…³é—­ä¸”æ²¡æœ‰æ›´å¤šæ•°æ®å¯æ¥æ”¶</span></span><br><span class="line">       <span class="keyword">case</span> msg1, ok := &lt;-channel1:</span><br><span class="line">          fmt.Println(<span class="string">&quot;111&quot;</span>, msg1, ok) <span class="comment">// æ²¡æœ‰æ•°æ®å¯è¯»å–å°±ä¼šé˜»å¡ä¸ä¼šæ‰§è¡Œ</span></span><br><span class="line">       <span class="keyword">case</span> msg2, ok := &lt;-channel2:</span><br><span class="line">          fmt.Println(<span class="string">&quot;222&quot;</span>, msg2, ok)</span><br><span class="line">       <span class="keyword">case</span> channel3 &lt;- msg3:</span><br><span class="line">          fmt.Println(<span class="string">&quot;send:&quot;</span>, msg3)</span><br><span class="line">       <span class="keyword">default</span>:</span><br><span class="line">          fmt.Println(<span class="string">&quot;No channel is ready&quot;</span>)</span><br><span class="line">          <span class="keyword">return</span></span><br><span class="line">       &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>æ–æ³¢é‚£å¥‘æ•°åˆ—</strong></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    c := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">int</span>)    <span class="comment">// åªèƒ½å­˜å‚¨ä¸€ä¸ªæ•°æ® int æ²¡æœ‰ç¼“å†²</span></span><br><span class="line">    quit := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">int</span>) <span class="comment">// åªèƒ½å­˜å‚¨ä¸€ä¸ªæ•°æ®</span></span><br><span class="line">    <span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">       <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">10</span>; i++ &#123;</span><br><span class="line">          c &lt;- i <span class="comment">// å‘ c å†™å…¥æ•°æ®</span></span><br><span class="line">       &#125;</span><br><span class="line">       <span class="built_in">close</span>(c)</span><br><span class="line">    &#125;() <span class="comment">// å¯åŠ¨ä¸€ä¸ªåç¨‹ï¼Œä» c è¯»å–æ•°æ® åŒ¿åå‡½æ•° ç«‹å³å¯åŠ¨</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">       <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">10</span>; i++ &#123;</span><br><span class="line">          fmt.Print(&lt;-c, <span class="string">&quot; &quot;</span>) <span class="comment">// ä» c è¯»å–æ•°æ®</span></span><br><span class="line">       &#125;</span><br><span class="line">       quit &lt;- <span class="number">0</span> <span class="comment">// å‘ quit å†™å…¥æ•°æ®</span></span><br><span class="line">    &#125;()</span><br><span class="line"></span><br><span class="line">    fibonacci2(c, quit)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ–æ³¢é‚£å¥‘æ•°åˆ—</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">fibonacci2</span><span class="params">(c, quit <span class="keyword">chan</span> <span class="type">int</span>)</span></span> &#123; <span class="comment">// æ¥æ”¶ä¸¤ä¸ªé€šé“å‚æ•°</span></span><br><span class="line">    x, y := <span class="number">0</span>, <span class="number">1</span> <span class="comment">// åˆå§‹åŒ– x, y</span></span><br><span class="line">    <span class="keyword">for</span> &#123;</span><br><span class="line">       <span class="keyword">select</span> &#123; <span class="comment">// é€‰æ‹©ä¸€ä¸ªå¯ç”¨çš„é€šé“è¿›è¡Œæ¥æ”¶æ“ä½œ</span></span><br><span class="line">       <span class="keyword">case</span> c &lt;- x: <span class="comment">// å‘ c å†™å…¥æ•°æ®</span></span><br><span class="line">          x, y = y, x+y <span class="comment">// è®¡ç®—ä¸‹ä¸€ä¸ªæ–æ³¢é‚£å¥‘æ•°åˆ—çš„å€¼</span></span><br><span class="line">       <span class="keyword">case</span> &lt;-quit:</span><br><span class="line">          fmt.Println(<span class="string">&quot;quit ç¨‹åºç»“æŸ&quot;</span>)</span><br><span class="line">          <span class="keyword">return</span></span><br><span class="line">       &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="ä¸‰åäºŒ-å®šæ—¶å™¨é€šé“">ä¸‰åäºŒ. å®šæ—¶å™¨é€šé“</h3>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;time&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">// åˆ›å»ºä¸€ä¸ªå®šæ—¶å™¨ï¼Œæ¯éš”100æ¯«ç§’è§¦å‘ä¸€æ¬¡å›è°ƒå‡½æ•° æ¯éš” 100 æ¯«ç§’å‘é€å½“å‰æ—¶é—´çš„å€¼åˆ° tick é€šé“ã€‚</span></span><br><span class="line">    tick := time.Tick(<span class="number">100</span> * time.Millisecond)</span><br><span class="line">    <span class="comment">// åˆ›å»ºä¸€ä¸ªå®šæ—¶å™¨ï¼Œåœ¨ 500 æ¯«ç§’åè§¦å‘ä¸€æ¬¡å›è°ƒå‡½æ•°ï¼Œåœ¨ 500 æ¯«ç§’åå‘é€å½“å‰æ—¶é—´çš„å€¼åˆ° boom é€šé“ã€‚</span></span><br><span class="line">    boom := time.After(<span class="number">500</span> * time.Millisecond)</span><br><span class="line">    <span class="keyword">for</span> &#123; <span class="comment">// for &#123; ... &#125;: è¿™æ˜¯ä¸€ä¸ªæ— é™å¾ªç¯ï¼Œç”¨äºä¸æ–­æ£€æŸ¥ tick å’Œ boom é€šé“ã€‚</span></span><br><span class="line">       <span class="keyword">select</span> &#123; <span class="comment">// é€‰æ‹©ä¸€ä¸ªé€šé“ï¼Œå½“è¯¥é€šé“æœ‰å€¼æ—¶ï¼Œæ‰§è¡Œå¯¹åº”çš„ä»£ç ã€‚</span></span><br><span class="line">       <span class="keyword">case</span> &lt;-tick:</span><br><span class="line">          fmt.Println(<span class="string">&quot;tick:&quot;</span>, &lt;-tick)</span><br><span class="line">       <span class="keyword">case</span> &lt;-boom:</span><br><span class="line">          fmt.Println(<span class="string">&quot;boom&quot;</span>)</span><br><span class="line">          <span class="keyword">return</span></span><br><span class="line">       <span class="keyword">default</span>:</span><br><span class="line">          fmt.Println(<span class="string">&quot;    .&quot;</span>)</span><br><span class="line">          time.Sleep(<span class="number">50</span> * time.Millisecond)</span><br><span class="line">       &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//for &#123;</span></span><br><span class="line">    <span class="comment">// fmt.Println(&lt;-tick)</span></span><br><span class="line">    <span class="comment">//&#125;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="ä¸‰åä¸‰-ğŸ”ºç­‰ä»·äºŒå‰æ ‘æ¯”è¾ƒ">ä¸‰åä¸‰.  ğŸ”ºç­‰ä»·äºŒå‰æ ‘æ¯”è¾ƒ</h3>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;golang.org/x/tour/tree&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// äºŒå‰æ ‘æŸ¥æ‰¾æ¯”è¾ƒ ç­‰ä»·äºŒå‰æŸ¥æ‰¾æ ‘</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    t1 := tree.New(<span class="number">1</span>)         <span class="comment">// è¿”å›æ ‘ç»“æ„</span></span><br><span class="line">    t2 := tree.New(<span class="number">1</span>)         <span class="comment">// è¿”å›æ ‘ç»“æ„</span></span><br><span class="line">    b := compare(t1, t2)      <span class="comment">// äºŒå‰æ ‘æ¯”è¾ƒ ç­‰ä»·äºŒå‰æŸ¥æ‰¾æ ‘</span></span><br><span class="line">    fmt.Println(<span class="string">&quot;t1==t2:&quot;</span>, b) <span class="comment">// t1==t2: true</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Walk äºŒå‰æ ‘éå†</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Walk</span><span class="params">(t *tree.Tree, ch <span class="keyword">chan</span> <span class="type">int</span>)</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> t == <span class="literal">nil</span> &#123; <span class="comment">// ç©ºæ ‘ æ²¡æœ‰å¶å­èŠ‚ç‚¹</span></span><br><span class="line">       <span class="keyword">return</span> <span class="comment">// é€’å½’å‡½æ•°ç»“æŸæ¡ä»¶</span></span><br><span class="line">    &#125;</span><br><span class="line">    Walk(t.Left, ch)  <span class="comment">// å·¦å­æ ‘å…ˆåºéå†</span></span><br><span class="line">    ch &lt;- t.Value     <span class="comment">// æ ¹èŠ‚ç‚¹å€¼ä¼ é€’ æ”¾å…¥ ch ç®¡é“</span></span><br><span class="line">    Walk(t.Right, ch) <span class="comment">// å³å­æ ‘ååºéå†</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// compare äºŒå‰æ ‘æ¯”è¾ƒ ç­‰ä»·äºŒå‰æŸ¥æ‰¾æ ‘</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">compare</span><span class="params">(t1, t2 *tree.Tree)</span></span> <span class="type">bool</span> &#123;</span><br><span class="line">    c1 := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">int</span>) <span class="comment">// ç®¡é“ ä¼ é€’æ•°æ® æ— ç¼“å†²é»˜è®¤1ï¼ŒæŒ‰é¡ºåºä¼ é€’æ•°æ®</span></span><br><span class="line">    c2 := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">int</span>)</span><br><span class="line">    <span class="keyword">go</span> Walk(t1, c1)           <span class="comment">// åç¨‹ ååŒæ‰§è¡Œ å¹¶è¡Œæ‰§è¡Œ</span></span><br><span class="line">    <span class="keyword">go</span> Walk(t2, c2)           <span class="comment">// åç¨‹ ååŒæ‰§è¡Œ å¹¶è¡Œæ‰§è¡Œ</span></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">10</span>; i++ &#123; <span class="comment">// å¾ªç¯ 10 æ¬¡ 10 æ¡æ•°æ®</span></span><br><span class="line">       x, y := &lt;-c1, &lt;-c2</span><br><span class="line">       fmt.Println(x, y) <span class="comment">// æ‰“å° 10 æ¡æ•°æ®</span></span><br><span class="line">       <span class="keyword">if</span> x != y &#123;       <span class="comment">// å¾ªç¯ç»“æŸæ¡ä»¶</span></span><br><span class="line">          <span class="keyword">return</span> <span class="literal">false</span> <span class="comment">// äºŒå‰æ ‘ä¸ç­‰ä»· ç­‰ä»·äºŒå‰æŸ¥æ‰¾æ ‘</span></span><br><span class="line">       &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span> <span class="comment">// äºŒå‰æ ‘ç­‰ä»· ç­‰ä»·äºŒå‰æŸ¥æ‰¾æ ‘</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="ä¸‰åå››-ğŸ”ºäº’æ–¥é”">ä¸‰åå››.  ğŸ”ºäº’æ–¥é”</h3>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;sync&quot;</span></span><br><span class="line">    <span class="string">&quot;time&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// äº’æ–¥é”çš„è®¡æ•°å™¨</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">// å¹¶å‘å®‰å…¨çš„è®¡æ•°å™¨</span></span><br><span class="line">    counter := SafeCounter&#123;v: <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">string</span>]<span class="type">int</span>)&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">1</span>; i &lt;= <span class="number">1000</span>; i++ &#123;</span><br><span class="line">       <span class="keyword">go</span> counter.Increment(<span class="string">&quot;somekey&quot;</span>) <span class="comment">// å¹¶å‘å®‰å…¨çš„è®¡æ•°å™¨ Incrementæ–¹æ³• è°ƒç”¨1000æ¬¡</span></span><br><span class="line">    &#125;</span><br><span class="line">    time.Sleep(time.Second) <span class="comment">// ç­‰å¾…è®¡æ•°å™¨å®Œæˆ 1s</span></span><br><span class="line">    fmt.Println(counter.Value(<span class="string">&quot;somekey&quot;</span>))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// SafeCounter äº’æ–¥é”çš„è®¡æ•°å™¨</span></span><br><span class="line"><span class="keyword">type</span> SafeCounter <span class="keyword">struct</span> &#123;</span><br><span class="line">    v   <span class="keyword">map</span>[<span class="type">string</span>]<span class="type">int</span> <span class="comment">// å…±äº«å˜é‡</span></span><br><span class="line">    mux sync.Mutex     <span class="comment">// äº’æ–¥é”</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Increment å¢åŠ è®¡æ•°å™¨çš„å€¼ æ–¹æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(c *SafeCounter)</span></span> Increment(key <span class="type">string</span>) &#123;</span><br><span class="line">    c.mux.Lock()   <span class="comment">// åŠ é”</span></span><br><span class="line">    c.v[key]++     <span class="comment">// å¢åŠ è®¡æ•°å™¨çš„å€¼</span></span><br><span class="line">    c.mux.Unlock() <span class="comment">// è§£é”</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Value è¿”å›è®¡æ•°å™¨çš„å€¼ æ–¹æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(c *SafeCounter)</span></span> Value(key <span class="type">string</span>) <span class="type">int</span> &#123;</span><br><span class="line">    c.mux.Lock() <span class="comment">// åŠ é”</span></span><br><span class="line">    <span class="comment">// lockååŒä¸€æ—¶åˆ»åªæœ‰ä¸€ä¸ªgoroutineè®¿é—®c.v[key]</span></span><br><span class="line">    <span class="keyword">defer</span> c.mux.Unlock() <span class="comment">// è§£é” deferè¯­å¥åœ¨å‡½æ•°æ‰§è¡Œå®Œæ¯•åæ‰§è¡Œ</span></span><br><span class="line">    <span class="keyword">return</span> c.v[key]      <span class="comment">// è¿”å›è®¡æ•°å™¨çš„å€¼</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="ä¸‰åäº”-æ¨¡æ‹Ÿçˆ¬è™«">ä¸‰åäº”. æ¨¡æ‹Ÿçˆ¬è™«</h3>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ¨¡æ‹Ÿå¹¶è¡ŒæŠ“å–</span></span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;sync&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// Fetcher æ˜¯ä¸€ä¸ªæ¥å£ï¼Œç”¨äºä»ä¸€ä¸ª URL ä¸‹è½½å†…å®¹ã€‚</span></span><br><span class="line"><span class="keyword">type</span> Fetcher <span class="keyword">interface</span> &#123;</span><br><span class="line">    <span class="comment">// Fetch è¿”å› URL çš„ body å†…å®¹ï¼Œå¹¶ä¸”å°†åœ¨è¿™ä¸ªé¡µé¢ä¸Šæ‰¾åˆ°çš„ URL æ”¾åˆ°ä¸€ä¸ª slice ä¸­ã€‚</span></span><br><span class="line">    Fetch(url <span class="type">string</span>) (body <span class="type">string</span>, urls []<span class="type">string</span>, err <span class="type">error</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Crawl ä½¿ç”¨ fetcher ä»æŸä¸ª URL å¼€å§‹é€’å½’çš„çˆ¬å–é¡µé¢ï¼Œç›´åˆ°è¾¾åˆ°æœ€å¤§æ·±åº¦ã€‚</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Crawl</span><span class="params">(url <span class="type">string</span>, depth <span class="type">int</span>, fetcher Fetcher)</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> depth &lt;= <span class="number">0</span> &#123;</span><br><span class="line">       <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    body, urls, err := fetcher.Fetch(url)</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">       fmt.Println(err)</span><br><span class="line">       <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Printf(<span class="string">&quot;found: %s %q\n&quot;</span>, url, body)</span><br><span class="line">    <span class="keyword">for</span> _, u := <span class="keyword">range</span> urls &#123;</span><br><span class="line">       Crawl(u, depth<span class="number">-1</span>, fetcher)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// fakeFetcher æ˜¯è¿”å›è‹¥å¹²ç»“æœçš„ Fetcherã€‚</span></span><br><span class="line"><span class="keyword">type</span> fakeFetcher <span class="keyword">map</span>[<span class="type">string</span>]*fakeResult</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> fakeResult <span class="keyword">struct</span> &#123;</span><br><span class="line">    body <span class="type">string</span></span><br><span class="line">    urls []<span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f fakeFetcher)</span></span> Fetch(url <span class="type">string</span>) (<span class="type">string</span>, []<span class="type">string</span>, <span class="type">error</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> res, ok := f[url]; ok &#123;</span><br><span class="line">       <span class="keyword">return</span> res.body, res.urls, <span class="literal">nil</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;&quot;</span>, <span class="literal">nil</span>, fmt.Errorf(<span class="string">&quot;not found: %s&quot;</span>, url)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// fetcher æ˜¯å¡«å……åçš„ fakeFetcherã€‚</span></span><br><span class="line"><span class="keyword">var</span> fetcher = fakeFetcher&#123;</span><br><span class="line">    <span class="string">&quot;https://golang.org/&quot;</span>: &amp;fakeResult&#123;</span><br><span class="line">       <span class="string">&quot;The Go Programming Language&quot;</span>,</span><br><span class="line">       []<span class="type">string</span>&#123;</span><br><span class="line">          <span class="string">&quot;https://golang.org/pkg/&quot;</span>,</span><br><span class="line">          <span class="string">&quot;https://golang.org/cmd/&quot;</span>,</span><br><span class="line">       &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">&quot;https://golang.org/pkg/&quot;</span>: &amp;fakeResult&#123;</span><br><span class="line">       <span class="string">&quot;Packages&quot;</span>,</span><br><span class="line">       []<span class="type">string</span>&#123;</span><br><span class="line">          <span class="string">&quot;https://golang.org/&quot;</span>,</span><br><span class="line">          <span class="string">&quot;https://golang.org/cmd/&quot;</span>,</span><br><span class="line">          <span class="string">&quot;https://golang.org/pkg/fmt/&quot;</span>,</span><br><span class="line">          <span class="string">&quot;https://golang.org/pkg/os/&quot;</span>,</span><br><span class="line">       &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">&quot;https://golang.org/pkg/fmt/&quot;</span>: &amp;fakeResult&#123;</span><br><span class="line">       <span class="string">&quot;Package fmt&quot;</span>,</span><br><span class="line">       []<span class="type">string</span>&#123;</span><br><span class="line">          <span class="string">&quot;https://golang.org/&quot;</span>,</span><br><span class="line">          <span class="string">&quot;https://golang.org/pkg/&quot;</span>,</span><br><span class="line">       &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">&quot;https://golang.org/pkg/os/&quot;</span>: &amp;fakeResult&#123;</span><br><span class="line">       <span class="string">&quot;Package os&quot;</span>,</span><br><span class="line">       []<span class="type">string</span>&#123;</span><br><span class="line">          <span class="string">&quot;https://golang.org/&quot;</span>,</span><br><span class="line">          <span class="string">&quot;https://golang.org/pkg/&quot;</span>,</span><br><span class="line">       &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¹¶è¡ŒæŠ“å–</span></span><br><span class="line"><span class="keyword">var</span> wg sync.WaitGroup</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">crawlURLs</span><span class="params">(urls []<span class="type">string</span>)</span></span> &#123;</span><br><span class="line">    <span class="keyword">defer</span> wg.Done()</span><br><span class="line">    <span class="keyword">for</span> _, url := <span class="keyword">range</span> urls &#123;</span><br><span class="line">       Crawl(url, <span class="number">3</span>, fetcher)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    urls := <span class="built_in">make</span>([]<span class="type">string</span>, <span class="number">0</span>)</span><br><span class="line">    <span class="keyword">for</span> url := <span class="keyword">range</span> fetcher &#123;</span><br><span class="line">       urls = <span class="built_in">append</span>(urls, url)</span><br><span class="line">    &#125;</span><br><span class="line">    wg.Add(<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">go</span> crawlURLs(urls)</span><br><span class="line"></span><br><span class="line">    Crawl(<span class="string">&quot;https://golang.org/&quot;</span>, <span class="number">4</span>, fetcher)</span><br><span class="line"></span><br><span class="line">    wg.Wait()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></article><div class="post-copyright"><div class="post-copyright__title"><span class="post-copyright-info"><h>GOè¯­è¨€åŸºç¡€æ¡ˆä¾‹è®²è§£</h></span></div><div class="post-copyright__type"><span class="post-copyright-info"><a href="https://www.fomal.cc/posts/59ef0c79.html">https://www.fomal.cc/posts/59ef0c79.html</a></span></div><div class="post-copyright-m"><div class="post-copyright-m-info"><div class="post-copyright-a"><h>ä½œè€…</h><div class="post-copyright-cc-info"><h>CoderyeahğŸ‰</h></div></div><div class="post-copyright-c"><h>å‘å¸ƒäº</h><div class="post-copyright-cc-info"><h>2025-05-20</h></div></div><div class="post-copyright-u"><h>æ›´æ–°äº</h><div class="post-copyright-cc-info"><h>2025-05-20</h></div></div><div class="post-copyright-c"><h>è®¸å¯åè®®</h><div class="post-copyright-cc-info"><a class="icon" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a><a rel="noopener" target="_blank" title="CC BY-NC-SA 4.0" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a></div></div></div></div></div><div class="tag_share"><div class="post-meta__tag-list"></div></div><link rel="stylesheet" href="/css/coin.css" media="defer" onload="this.media='all'"/><div class="post-reward"><button class="tip-button reward-button"><span class="tip-button__text">æŠ•å–‚ä½œè€…</span><div class="coin-wrapper"><div class="coin"><div class="coin__middle"></div><div class="coin__back"></div><div class="coin__front"></div></div></div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="https://tuchuang.voooe.cn/images/2023/01/04/2.webp" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://tuchuang.voooe.cn/images/2023/01/04/2.webp" alt="å¾®ä¿¡"/></a><div class="post-qr-code-desc">å¾®ä¿¡</div></li><li class="reward-item"><a href="https://tuchuang.voooe.cn/images/2023/01/04/20f8e49805975b8f8.webp" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://tuchuang.voooe.cn/images/2023/01/04/20f8e49805975b8f8.webp" alt="æ”¯ä»˜å®"/></a><div class="post-qr-code-desc">æ”¯ä»˜å®</div></li></ul></div></button></div><audio id="coinAudio" src="https://npm.elemecdn.com/akilar-candyassets@1.0.36/audio/aowu.m4a"></audio><script defer="defer" src="/js/coin.js"></script><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/97b1f46c.html"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://source.fomal.cc/img/default_cover_14.webp" onerror="onerror=null;src='/assets/r2.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">ä¸Šä¸€ç¯‡</div><div class="prev_info">goè¯­è¨€ç½‘ç»œç¼–ç¨‹é€šä¿¡æ¡ˆä¾‹</div></div></a></div><div class="next-post pull-right"><a href="/posts/49506580.html"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://source.fomal.cc/img/default_cover_14.webp" onerror="onerror=null;src='/assets/r2.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">ä¸‹ä¸€ç¯‡</div><div class="next_info">goè¯­è¨€GMPæ¨¡å¼ä»‹ç»ä»¥åŠåç¨‹æ¡ˆä¾‹å±•ç¤º</div></div></a></div></nav><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> è¯„è®º</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><svg class="meta_icon" style="width:22px;height:22px;position:relative;top:5px"><use xlink:href="#icon-mulu1"></use></svg><span style="font-weight:bold">ç›®å½•</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80-%E5%AD%97%E7%AC%A6%E6%89%93%E5%8D%B0"><span class="toc-text">ä¸€. å­—ç¬¦æ‰“å°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C-%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2"><span class="toc-text">äºŒ. ç±»å‹è½¬æ¢</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%89-strconv%E5%8C%85%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2"><span class="toc-text">ä¸‰.strconvåŒ…ç±»å‹è½¬æ¢</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%9B-math%E5%92%8Crand%E5%8C%85%E7%9A%84%E5%BA%94%E7%94%A8"><span class="toc-text">å››.mathå’ŒrandåŒ…çš„åº”ç”¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%94-switch%E7%9A%84%E4%BD%BF%E7%94%A8%E5%92%8C%E7%89%9B%E9%A1%BF%E6%B3%95%E9%80%BC%E8%BF%91%E5%B9%B3%E6%96%B9%E6%A0%B9"><span class="toc-text">äº”.switchçš„ä½¿ç”¨å’Œç‰›é¡¿æ³•é€¼è¿‘å¹³æ–¹æ ¹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%AD-%E6%8C%87%E9%92%88%E7%9A%84%E4%BD%BF%E7%94%A8%E5%92%8C%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BB%93%E6%9E%84%E4%BD%93"><span class="toc-text">å…­. æŒ‡é’ˆçš„ä½¿ç”¨å’Œè‡ªå®šä¹‰ç»“æ„ä½“</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%83-%F0%9F%94%BA%E6%95%B0%E7%BB%84%E5%92%8C%E5%88%87%E7%89%87"><span class="toc-text">ä¸ƒ. ğŸ”ºæ•°ç»„å’Œåˆ‡ç‰‡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%AB-%E5%88%87%E7%89%87%E5%92%8C%E5%88%87%E7%89%87%E6%95%B0%E7%BB%84%E7%9A%84%E4%BD%BF%E7%94%A8%EF%BC%88make%EF%BC%89"><span class="toc-text">å…«. åˆ‡ç‰‡å’Œåˆ‡ç‰‡æ•°ç»„çš„ä½¿ç”¨ï¼ˆmakeï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B9%9D-range%E5%88%87%E7%89%87%E7%9A%84%E9%81%8D%E5%8E%86"><span class="toc-text">ä¹.rangeåˆ‡ç‰‡çš„éå†</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%81-%E8%87%AA%E5%AE%9A%E4%B9%89%E6%95%B0%E5%80%BC%E7%94%9F%E6%88%90%E4%BA%8C%E7%BB%B4%E6%95%B0%E7%BB%84"><span class="toc-text">å. è‡ªå®šä¹‰æ•°å€¼ç”ŸæˆäºŒç»´æ•°ç»„</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%81%E4%B8%80-%F0%9F%94%BA%E6%98%A0%E5%B0%84"><span class="toc-text">åä¸€. ğŸ”ºæ˜ å°„</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%81%E4%BA%8C-%E6%98%A0%E5%B0%84%E7%BB%83%E4%B9%A0"><span class="toc-text">åäºŒ. æ˜ å°„ç»ƒä¹ </span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%81%E4%B8%89-%E5%87%BD%E6%95%B0%E4%B9%9F%E5%8F%AF%E5%BD%93%E4%BD%9C%E5%80%BC%E4%BC%A0%E9%80%92"><span class="toc-text">åä¸‰. å‡½æ•°ä¹Ÿå¯å½“ä½œå€¼ä¼ é€’</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%81%E5%9B%9B-%F0%9F%94%BA%E5%87%BD%E6%95%B0%E9%97%AD%E5%8C%85"><span class="toc-text">åå››. ğŸ”ºå‡½æ•°é—­åŒ…</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%81%E4%BA%94-%E6%96%90%E6%B3%A2%E9%82%A3%E5%A5%91%E6%95%B0%E9%97%AD%E5%8C%85%E7%BB%83%E4%B9%A0"><span class="toc-text">åäº”. æ–æ³¢é‚£å¥‘æ•°é—­åŒ…ç»ƒä¹ </span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%81%E5%85%AD-%F0%9F%94%BA%E6%96%B9%E6%B3%95"><span class="toc-text">åå…­. ğŸ”ºæ–¹æ³•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%81%E4%B8%83-%F0%9F%94%BA%E6%8E%A5%E5%8F%A3"><span class="toc-text">åä¸ƒ. ğŸ”ºæ¥å£</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%81%E5%85%AB-%E6%8E%A5%E5%8F%A3%E7%BB%83%E4%B9%A0"><span class="toc-text">åå…«. æ¥å£ç»ƒä¹ </span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%81%E4%B9%9D-%E6%8E%A5%E5%8F%A3%E8%BF%94%E5%9B%9E%E5%80%BC%E5%92%8C%E7%B1%BB%E5%9E%8B"><span class="toc-text">åä¹. æ¥å£è¿”å›å€¼å’Œç±»å‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E5%8D%81-%E6%96%AD%E8%A8%80"><span class="toc-text">äºŒå. æ–­è¨€</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E5%8D%81%E4%B8%80-stringer%E4%BD%BF%E7%94%A8%EF%BC%8C%E8%87%AA%E5%AE%9A%E4%B9%89%E6%89%93%E5%8D%B0%E8%BE%93%E5%87%BA"><span class="toc-text">äºŒåä¸€. stringerä½¿ç”¨ï¼Œè‡ªå®šä¹‰æ‰“å°è¾“å‡º</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E5%8D%81%E4%BA%8C-%E8%87%AA%E5%AE%9A%E4%B9%89%E9%94%99%E8%AF%AF%E5%87%BD%E6%95%B0"><span class="toc-text">äºŒåäºŒ. è‡ªå®šä¹‰é”™è¯¯å‡½æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E5%8D%81%E4%B8%89-%E8%87%AA%E5%AE%9A%E4%B9%89%E9%94%99%E8%AF%AF%E8%BF%94%E5%9B%9E%E7%BB%83%E4%B9%A0"><span class="toc-text">äºŒåä¸‰. è‡ªå®šä¹‰é”™è¯¯è¿”å›ç»ƒä¹ </span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E5%8D%81%E5%9B%9B-%F0%9F%94%BAio-Reader%E8%AF%BB%E5%8F%96%E5%86%85%E5%AE%B9"><span class="toc-text">äºŒåå››.  ğŸ”ºio.Readerè¯»å–å†…å®¹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E5%8D%81%E4%BA%94-rot13Reader%E5%8A%A0%E5%AF%86%E7%AE%97%E6%B3%95"><span class="toc-text">äºŒåäº”. rot13ReaderåŠ å¯†ç®—æ³•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E5%8D%81%E5%85%AD-Image%E6%8E%A5%E5%8F%A3"><span class="toc-text">äºŒåå…­. Imageæ¥å£</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E5%8D%81%E4%B8%83-%F0%9F%94%BAGO%E4%BF%A1%E9%81%93"><span class="toc-text">äºŒåä¸ƒ. ğŸ”ºGOä¿¡é“</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E5%8D%81%E5%85%AB-%E4%BF%A1%E9%81%93%E5%B9%B6%E5%8F%91%E8%AE%A1%E7%AE%97%E5%88%87%E7%89%87%E5%92%8C"><span class="toc-text">äºŒåå…«. ä¿¡é“å¹¶å‘è®¡ç®—åˆ‡ç‰‡å’Œ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E5%8D%81%E4%B9%9D-%E5%B8%A6%E7%BC%93%E5%86%B2%E7%9A%84%E9%80%9A%E9%81%93"><span class="toc-text">äºŒåä¹. å¸¦ç¼“å†²çš„é€šé“</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%89%E5%8D%81-%E9%80%9A%E9%81%93%E8%AE%A1%E7%AE%97%E6%96%90%E6%B3%A2%E9%82%A3%E5%A5%91%E6%95%B0%E5%88%97"><span class="toc-text">ä¸‰å. é€šé“è®¡ç®—æ–æ³¢é‚£å¥‘æ•°åˆ—</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%89%E5%8D%81%E4%B8%80-select%E9%80%89%E6%8B%A9%E9%80%9A%E9%81%93"><span class="toc-text">ä¸‰åä¸€. selecté€‰æ‹©é€šé“</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%89%E5%8D%81%E4%BA%8C-%E5%AE%9A%E6%97%B6%E5%99%A8%E9%80%9A%E9%81%93"><span class="toc-text">ä¸‰åäºŒ. å®šæ—¶å™¨é€šé“</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%89%E5%8D%81%E4%B8%89-%F0%9F%94%BA%E7%AD%89%E4%BB%B7%E4%BA%8C%E5%8F%89%E6%A0%91%E6%AF%94%E8%BE%83"><span class="toc-text">ä¸‰åä¸‰.  ğŸ”ºç­‰ä»·äºŒå‰æ ‘æ¯”è¾ƒ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%89%E5%8D%81%E5%9B%9B-%F0%9F%94%BA%E4%BA%92%E6%96%A5%E9%94%81"><span class="toc-text">ä¸‰åå››.  ğŸ”ºäº’æ–¥é”</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%89%E5%8D%81%E4%BA%94-%E6%A8%A1%E6%8B%9F%E7%88%AC%E8%99%AB"><span class="toc-text">ä¸‰åäº”. æ¨¡æ‹Ÿçˆ¬è™«</span></a></li></ol></div></div></div></div></main><footer id="footer" style="background-color: transparent;"><div id="footer-wrap"><div id="ft"><div class="ft-item-1"><div class="t-top"><div class="t-t-l"><p class="ft-t t-l-t">æ ¼è¨€ğŸ§¬</p><div class="bg-ad"><div>å†çœ‹çœ‹é‚£ä¸ªå…‰ç‚¹ï¼Œå®ƒå°±åœ¨è¿™é‡Œï¼Œè¿™æ˜¯å®¶å›­ï¼Œè¿™æ˜¯æˆ‘ä»¬ â€”â€” ä½ æ‰€çˆ±çš„æ¯ä¸€ä¸ªäººï¼Œä½ è®¤è¯†çš„ä¸€ä¸ªäººï¼Œä½ å¬è¯´è¿‡çš„æ¯ä¸€ä¸ªäººï¼Œæ›¾ç»æœ‰è¿‡çš„æ¯ä¸€ä¸ªäººï¼Œéƒ½åœ¨å®ƒä¸Šé¢åº¦è¿‡ä»–ä»¬çš„ä¸€ç”Ÿâœ¨</div><div class="btn-xz-box"><a class="btn-xz" target="_blank" rel="noopener" href="https://stellarium.org/">ç‚¹å‡»å¼€å¯æ˜Ÿè¾°ä¹‹æ—…</a></div></div></div><div class="t-t-r"><p class="ft-t t-l-t">çŒœä½ æƒ³çœ‹ğŸ’¡</p><ul class="ft-links"><li><a href="/posts/eec9786.html">é­”æ”¹æŒ‡å—</a><a href="/box/nav/">ç½‘å€å¯¼èˆª</a></li><li><a href="/social/link/">æˆ‘çš„æœ‹å‹</a><a href="/comments/">ç•™ç‚¹ä»€ä¹ˆ</a></li><li><a href="/personal/about/">å…³äºä½œè€…</a><a href="/archives/">æ–‡ç« å½’æ¡£</a></li><li><a href="/categories/">æ–‡ç« åˆ†ç±»</a><a href="/tags/">æ–‡ç« æ ‡ç­¾</a></li><li><a href="/box/Gallery/">æˆ‘çš„ç”»å»Š</a><a href="/personal/bb/">æˆ‘çš„å” å¨</a></li><li><a href="/site/time/">å»ºè®¾è¿›ç¨‹</a><a href="/site/census/">ç½‘ç«™ç»Ÿè®¡</a></li></ul></div></div></div><div class="ft-item-2"><p class="ft-t">æ¨èå‹é“¾âŒ›</p><div class="ft-img-group"><div class="img-group-item"><a href="https://www.fomal.cc/" title="FomalhautğŸ¥"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://lskypro.acozycotage.net/LightPicture/2022/12/60e5d4e39da7c077.webp" alt=""/></a></div><div class="img-group-item"><a href="javascript:void(0)" title="å¹¿å‘Šä½æ‹›ç§Ÿ"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://lskypro.acozycotage.net/LightPicture/2022/12/65307a5828af6790.webp" alt=""/></a></div><div class="img-group-item"><a href="javascript:void(0)" title="å¹¿å‘Šä½æ‹›ç§Ÿ"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://lskypro.acozycotage.net/LightPicture/2022/12/65307a5828af6790.webp" alt=""/></a></div><div class="img-group-item"><a href="javascript:void(0)" title="å¹¿å‘Šä½æ‹›ç§Ÿ"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://lskypro.acozycotage.net/LightPicture/2022/12/65307a5828af6790.webp" alt=""/></a></div><div class="img-group-item"><a href="javascript:void(0)" title="å¹¿å‘Šä½æ‹›ç§Ÿ"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://lskypro.acozycotage.net/LightPicture/2022/12/65307a5828af6790.webp" alt=""/></a></div><div class="img-group-item"><a href="javascript:void(0)" title="å¹¿å‘Šä½æ‹›ç§Ÿ"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://lskypro.acozycotage.net/LightPicture/2022/12/65307a5828af6790.webp" alt=""/></a></div><div class="img-group-item"><a href="javascript:void(0)" title="å¹¿å‘Šä½æ‹›ç§Ÿ"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://lskypro.acozycotage.net/LightPicture/2022/12/65307a5828af6790.webp" alt=""/></a></div><div class="img-group-item"><a href="javascript:void(0)" title="å¹¿å‘Šä½æ‹›ç§Ÿ"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://lskypro.acozycotage.net/LightPicture/2022/12/65307a5828af6790.webp" alt=""/></a></div></div></div></div><div class="copyright"><span><b>&copy;2022-2025</b></span><span><b>&nbsp;&nbsp;By CoderyeahğŸ‰</b></span></div><div id="workboard"></div><p id="ghbdages"><a class="github-badge" target="_blank" href="https://hexo.io/" style="margin-inline:5px" title="åšå®¢æ¡†æ¶ä¸ºHexo_v6.3.0"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://sourcebucket.s3.ladydaily.com/badge/Frame-Hexo-blue.svg" alt=""/></a><a class="github-badge" target="_blank" href="https://butterfly.js.org/" style="margin-inline:5px" title="ä¸»é¢˜ç‰ˆæœ¬Butterfly_v4.3.1"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://sourcebucket.s3.ladydaily.com/badge/Theme-Butterfly-6513df.svg" alt=""/></a><a class="github-badge" target="_blank" href="https://vercel.com/" style="margin-inline:5px" title="æœ¬ç«™é‡‡ç”¨å¤šçº¿éƒ¨ç½²ï¼Œä¸»çº¿è·¯æ‰˜ç®¡äºVercel"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://sourcebucket.s3.ladydaily.com/badge/Hosted-Vercel-brightgreen.svg" alt=""/></a><a class="github-badge" target="_blank" href="https://user.51.la/" style="margin-inline:5px" title="æœ¬ç«™æ•°æ®åˆ†æå¾—ç›Šäº51laæŠ€æœ¯æ”¯æŒ"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://sourcebucket.s3.ladydaily.com/badge/Analytics-51la-3db1eb.svg" alt=""/></a><a class="github-badge" target="_blank" href="https://icp.gov.moe/?keyword=20226665" style="margin-inline:5px" title="æœ¬ç«™å·²åŠ å…¥èŒICPè±ªåå¥—é¤ï¼ŒèŒICPå¤‡20226665å·"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://sourcebucket.s3.ladydaily.com/badge/èŒICPå¤‡-20226665-fe1384.svg" alt=""/></a><a class="github-badge" target="_blank" href="https://bitiful.dogecast.com/buckets" style="margin-inline:5px" title="æœ¬ç½‘ç«™ç»Service Workeråˆ†æµè‡³ç¼¤çº·äº‘å¯¹è±¡å­˜å‚¨"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src=" https://sourcebucket.s3.ladydaily.com/badge/Bucket-ç¼¤çº·äº‘-9c62da.svg" alt=""/></a><a class="github-badge" target="_blank" href="https://www.netdun.net/" style="margin-inline:5px" title="æœ¬ç«™ä½¿ç”¨ç½‘ç›¾æ˜Ÿçƒæä¾›CDNåŠ é€Ÿä¸é˜²æŠ¤"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://sourcebucket.s3.ladydaily.com/badge/CDN-ç½‘ç›¾æ˜Ÿçƒ-fff2cc.svg" alt=""/></a><a class="github-badge" target="_blank" href="https://github.com/" style="margin-inline:5px" title="æœ¬ç½‘ç«™æºç ç”±Githubæä¾›å­˜å‚¨ä»“åº“"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src=" https://sourcebucket.s3.ladydaily.com/badge/Source-Github-d021d6.svg" alt=""/></a></p></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="é˜…è¯»æ¨¡å¼"><i class="fas fa-book-open"></i></button><a class="icon-V hidden" onclick="switchNightMode()" title="æµ…è‰²å’Œæ·±è‰²æ¨¡å¼è½¬æ¢"><svg width="25" height="25" viewBox="0 0 1024 1024"><use id="modeicon" xlink:href="#icon-moon"></use></svg></a><button id="hide-aside-btn" type="button" title="å•æ å’ŒåŒæ åˆ‡æ¢"><i class="fas fa-arrows-alt-h"></i></button><button class="share" type="button" title="å³é”®æ¨¡å¼" onclick="changeMouseMode()"><i class="fas fa-mouse"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="è®¾ç½®"><i class="fas fa-cog right_side"></i></button><button class="close" id="mobile-toc-button" type="button" title="ç›®å½•"><i class="fas fa-list-ul"></i></button><button class="share" type="button" title="åˆ†äº«é“¾æ¥" onclick="share()"><i class="fas fa-share-nodes"></i></button><a id="to_comment" href="#post-comment" title="ç›´è¾¾è¯„è®º"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><i class="fas fa-arrow-up"></i><span id="percent">0<span>%</span></span></button><button id="go-down" type="button" title="ç›´è¾¾åº•éƒ¨" onclick="btf.scrollToDest(document.body.scrollHeight, 500)"><i class="fas fa-arrow-down"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">æœç´¢</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  æ•°æ®åº“åŠ è½½ä¸­</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="æœç´¢æ–‡ç« " type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div class="js-pjax" id="rightMenu"><div class="rightMenu-group rightMenu-small"><a class="rightMenu-item" href="javascript:window.history.back();"><i class="fa fa-arrow-left"></i></a><a class="rightMenu-item" href="javascript:window.history.forward();"><i class="fa fa-arrow-right"></i></a><a class="rightMenu-item" href="javascript:window.location.reload();"><i class="fa fa-refresh"></i></a><a class="rightMenu-item" href="javascript:rmf.scrollToTop();"><i class="fa fa-arrow-up"></i></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-text"><a class="rightMenu-item" href="javascript:rmf.copySelect();"><i class="fa fa-copy"></i><span>å¤åˆ¶</span></a><a class="rightMenu-item" href="javascript:window.open(&quot;https://www.baidu.com/s?wd=&quot;+window.getSelection().toString());window.location.reload();"><i class="fa fa-search"></i><span>ç™¾åº¦æœç´¢</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-too"><a class="rightMenu-item" href="javascript:window.open(window.getSelection().toString());window.location.reload();"><i class="fa fa-link"></i><span>è½¬åˆ°é“¾æ¥</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-paste"><a class="rightMenu-item" href="javascript:rmf.paste()"><i class="fa fa-copy"></i><span>ç²˜è´´</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-post"><a class="rightMenu-item" href="#post-comment"><i class="fas fa-comment"></i><span>ç©ºé™è¯„è®º</span></a><a class="rightMenu-item" href="javascript:rmf.copyWordsLink()"><i class="fa fa-link"></i><span>å¤åˆ¶æœ¬æ–‡åœ°å€</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-to"><a class="rightMenu-item" href="javascript:rmf.openWithNewTab()"><i class="fa fa-window-restore"></i><span>æ–°çª—å£æ‰“å¼€</span></a><a class="rightMenu-item" id="menu-too" href="javascript:rmf.open()"><i class="fa fa-link"></i><span>è½¬åˆ°é“¾æ¥</span></a><a class="rightMenu-item" href="javascript:rmf.copyLink()"><i class="fa fa-copy"></i><span>å¤åˆ¶é“¾æ¥</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-img"><a class="rightMenu-item" href="javascript:rmf.saveAs()"><i class="fa fa-download"></i><span>ä¿å­˜å›¾ç‰‡</span></a><a class="rightMenu-item" href="javascript:rmf.openWithNewTab()"><i class="fa fa-window-restore"></i><span>åœ¨æ–°çª—å£æ‰“å¼€</span></a><a class="rightMenu-item" href="javascript:rmf.copyLink()"><i class="fa fa-copy"></i><span>å¤åˆ¶å›¾ç‰‡é“¾æ¥</span></a></div><div class="rightMenu-group rightMenu-line"><a class="rightMenu-item" href="javascript:randomPost()"><i class="fa fa-paper-plane"></i><span>éšä¾¿é€›é€›</span></a><a class="rightMenu-item" href="javascript:switchNightMode();"><i class="fa fa-moon"></i><span>æ˜¼å¤œåˆ‡æ¢</span></a><a class="rightMenu-item" href="/personal/about/"><i class="fa fa-info-circle"></i><span>å…³äºåšå®¢</span></a><a class="rightMenu-item" href="javascript:toggleWinbox();"><i class="fas fa-cog"></i><span>ç¾åŒ–è®¾ç½®</span></a><a class="rightMenu-item" href="javascript:rmf.fullScreen();"><i class="fas fa-expand"></i><span>åˆ‡æ¢å…¨å±</span></a><a class="rightMenu-item" href="javascript:window.print();"><i class="fa-solid fa-print"></i><span>æ‰“å°é¡µé¢</span></a></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.staticfile.org/fancyapps-ui/4.0.31/fancybox.umd.min.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/instant.page/5.1.0/instantpage.min.js" type="module"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/vanilla-lazyload/17.3.1/lazyload.iife.min.js"></script><script src="/js/search/local-search.js"></script><script async="async">var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())
setTimeout(function(){preloader.endLoading();}, 5000);
document.getElementById('loading-box').addEventListener('click',()=> {preloader.endLoading()})</script><div class="js-pjax"><script>(()=>{
  const init = () => {
    twikoo.init(Object.assign({
      el: '#twikoo-wrap',
      envId: '',
      region: '',
      onCommentLoaded: function () {
        btf.loadLightbox(document.querySelectorAll('#twikoo .tk-content img:not(.tk-owo-emotion)'))
      }
    }, null))
  }

  const getCount = () => {
    const countELement = document.getElementById('twikoo-count')
    if(!countELement) return
    twikoo.getCommentsCount({
      envId: '',
      region: '',
      urls: [window.location.pathname],
      includeReply: false
    }).then(function (res) {
      countELement.innerText = res[0].count
    }).catch(function (err) {
      console.error(err);
    });
  }

  const runFn = () => {
    init()
    
  }

  const loadTwikoo = () => {
    if (typeof twikoo === 'object') {
      setTimeout(runFn,0)
      return
    } 
    getScript('https://cdn.staticfile.org/twikoo/1.6.8/twikoo.all.min.js').then(runFn)
  }

  if ('Twikoo' === 'Twikoo' || !true) {
    if (true) btf.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else loadTwikoo()
  } else {
    window.loadOtherComment = () => {
      loadTwikoo()
    }
  }
})()</script></div><script src="https://cdn.staticfile.org/jquery/3.6.3/jquery.min.js"></script><script async src="https://cdn1.tianli0.top/npm/vue@2.6.14/dist/vue.min.js"></script><script async src="https://cdn1.tianli0.top/npm/element-ui@2.15.6/lib/index.js"></script><script async src="https://cdn.bootcdn.net/ajax/libs/clipboard.js/2.0.11/clipboard.min.js"></script><script defer type="text/javascript" src="https://cdn1.tianli0.top/npm/sweetalert2@8.19.0/dist/sweetalert2.all.js"></script><script async src="//npm.elemecdn.com/pace-js@1.2.4/pace.min.js"></script><script defer src="https://cdn1.tianli0.top/gh/nextapps-de/winbox/dist/winbox.bundle.min.js"></script><script async src="//at.alicdn.com/t/c/font_3586335_hsivh70x0fm.js"></script><script async src="//at.alicdn.com/t/c/font_3636804_gr02jmjr3y9.js"></script><script async src="//at.alicdn.com/t/c/font_3612150_kfv55xn3u2g.js"></script><script async src="https://cdn.wpon.cn/2022-sucai/Gold-ingot.js"></script><canvas id="universe"></canvas><canvas id="snow"></canvas><script defer src="/js/fomal.js"></script><link rel="stylesheet" href="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/aplayer/1.10.1/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/aplayer/1.10.1/APlayer.min.js"></script><script src="https://cdn1.tianli0.top/npm/js-heo@1.0.12/metingjs/Meting.min.js"></script><script src="https://lib.baomitu.com/pjax/0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show","#web_bg",".js-pjax","#bibi","body > title","#app","#tag-echarts","#posts-echart","#categories-echarts"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener scroll 
  window.tocScrollFn && window.removeEventListener('scroll', window.tocScrollFn)
  window.scrollCollect && window.removeEventListener('scroll', scrollCollect)

  typeof preloader === 'object' && preloader.initLoading()
  document.getElementById('rightside').style.cssText = "opacity: ''; transform: ''"
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

  typeof disqusjs === 'object' && disqusjs.destroy()
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()

  typeof preloader === 'object' && preloader.endLoading()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><!-- hexo injector body_end start --> <script data-pjax>if(document.getElementById('recent-posts') && (location.pathname ==='/'|| '/' ==='all')){
    var parent = document.getElementById('recent-posts');
    var child = '<div class="recent-post-item" style="width:100%;height: auto"><div id="catalog_magnet"><div class="magnet_item"><a class="magnet_link" href="https://www.fomal.cc/categories/æ¼”ç¤º/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">ğŸ¥ å°Fã®æ¡ˆä¾‹æ¼”ç¤ºç¬”è®° (1)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item" style="visibility: hidden"></div><div class="magnet_item" style="visibility: hidden"></div><a class="magnet_link_more"  href="https://www.fomal.cc/categories/" style="flex:1;text-align: center;margin-bottom: 10px;">æŸ¥çœ‹æ›´å¤š...</a></div></div>';
    console.log('å·²æŒ‚è½½magnet')
    parent.insertAdjacentHTML("afterbegin",child)}
     </script><style>#catalog_magnet{flex-wrap: wrap;display: flex;width:100%;justify-content:space-between;padding: 10px 10px 0 10px;align-content: flex-start;}.magnet_item{flex-basis: calc(33.333333333333336% - 5px);background: #e9e9e9;margin-bottom: 10px;border-radius: 8px;transition: all 0.2s ease-in-out;}.magnet_item:hover{background: var(--text-bg-hover)}.magnet_link_more{color:#555}.magnet_link{color:black}.magnet_link:hover{color:white}@media screen and (max-width: 600px) {.magnet_item {flex-basis: 100%;}}.magnet_link_context{display:flex;padding: 10px;font-size:16px;transition: all 0.2s ease-in-out;}.magnet_link_context:hover{padding: 10px 20px;}</style>
    <style></style><script data-pjax>
  function butterfly_swiper_injector_config(){
    var parent_div_git = document.getElementById('recent-posts');
    var item_html = '<div class="recent-post-item" style="height: auto;width: 100%"><div class="blog-slider swiper-container-fade swiper-container-horizontal" id="swiper_container"><div class="blog-slider__wrp swiper-wrapper" style="transition-duration: 0ms;"><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/2013454d.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://source.fomal.cc/img/default_cover_14.webp" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2022-08-09</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/2013454d.html&quot;);" href="javascript:void(0);" alt="">Markdownè¯­æ³•ä¸å¤–æŒ‚æ ‡ç­¾å†™æ³•æ±‡æ€»</a><div class="blog-slider__text">ğŸ¥§æœ¬æ–‡æ±‡æ€»Markdownæ ¼å¼ä»¥åŠå¤–æŒ‚æ ‡ç­¾åœ¨ç½‘é¡µç«¯çš„æ¸²æŸ“æ•ˆæœï¼Œå¯ä½œä¸ºæ–‡æ¡£è¿›è¡ŒæŸ¥è¯¢</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/2013454d.html&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div></div><div class="blog-slider__pagination swiper-pagination-clickable swiper-pagination-bullets"></div></div></div>';
    console.log('å·²æŒ‚è½½butterfly_swiper')
    parent_div_git.insertAdjacentHTML("afterbegin",item_html)
    }
  var elist = 'undefined'.split(',');
  var cpage = location.pathname;
  var epage = '/';
  var flag = 0;

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_swiper_injector_config();
  }
  else if (epage === cpage){
    butterfly_swiper_injector_config();
  }
  </script><script defer src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.js"></script><script defer data-pjax src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper_init.js"></script><script data-pjax src="https://npm.elemecdn.com/hexo-filter-gitcalendar/lib/gitcalendar.js"></script><script data-pjax>
  function gitcalendar_injector_config(){
      var parent_div_git = document.getElementById('gitZone');
      var item_html = '<div class="recent-post-item" id="gitcalendarBar" style="width:100%;height:auto;padding:10px;"><style>#git_container{min-height: 320px}@media screen and (max-width:650px) {#git_container{min-height: 0px}}</style><div id="git_loading" style="width:10%;height:100%;margin:0 auto;display: block;"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 50 50" style="enable-background:new 0 0 50 50" xml:space="preserve"><path fill="#d0d0d0" d="M25.251,6.461c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615V6.461z" transform="rotate(275.098 25 25)"><animatetransform attributeType="xml" attributeName="transform" type="rotate" from="0 25 25" to="360 25 25" dur="0.6s" repeatCount="indefinite"></animatetransform></path></svg><style>#git_container{display: none;}</style></div><div id="git_container"></div></div>';
      parent_div_git.insertAdjacentHTML("afterbegin",item_html)
      console.log('å·²æŒ‚è½½gitcalendar')
      }

    if( document.getElementById('gitZone') && (location.pathname ==='/site/census/'|| '/site/census/' ==='all')){
        gitcalendar_injector_config()
        GitCalendarInit("/api?null",['#d9e0df', '#c6e0dc', '#a8dcd4', '#9adcd2', '#89ded1', '#77e0d0', '#5fdecb', '#47dcc6', '#39dcc3', '#1fdabe', '#00dab9'],'null')
    }
  </script><div class="js-pjax"><script async="async">var arr = document.getElementsByClassName('recent-post-item');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__zoomIn');
    arr[i].setAttribute('data-wow-duration', '2s');
    arr[i].setAttribute('data-wow-delay', '200ms');
    arr[i].setAttribute('data-wow-offset', '30');
    arr[i].setAttribute('data-wow-iteration', '1');
  }</script><script async="async">var arr = document.getElementsByClassName('card-widget');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__zoomIn');
    arr[i].setAttribute('data-wow-duration', '2s');
    arr[i].setAttribute('data-wow-delay', '200ms');
    arr[i].setAttribute('data-wow-offset', '30');
    arr[i].setAttribute('data-wow-iteration', '1');
  }</script></div><script defer src="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/wow.min.js"></script><script defer src="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/wow_init.js"></script><!-- hexo injector body_end end --></body></html>